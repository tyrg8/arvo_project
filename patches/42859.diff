commit c16ad918ba3cc2d1ccc55c42fbf3c29e97d51f61
Author: Daniil Gentili <daniil@daniil.it>
Date:   Tue Nov 28 20:14:58 2023 +0100

    Change default method of disabling JIT
    
    https://wiki.php.net/rfc/jit_config_defaults
    Closes GH-12678

diff --git a/UPGRADING b/UPGRADING
index a9e6df8919..e1225b906a 100644
--- a/UPGRADING
+++ b/UPGRADING
@@ -1,166 +1,176 @@
 PHP 8.4 UPGRADE NOTES
 
 1. Backward Incompatible Changes
 2. New Features
 3. Changes in SAPI modules
 4. Deprecated Functionality
 5. Changed Functions
 6. New Functions
 7. New Classes and Interfaces
 8. Removed Extensions and SAPIs
 9. Other Changes to Extensions
 10. New Global Constants
 11. Changes to INI File Handling
 12. Windows Support
 13. Other Changes
 14. Performance Improvements
 
 ========================================
 1. Backward Incompatible Changes
 ========================================
 
 - CLI:
   . The builtin server looks for an index file recursively by traversing parent
     directories in case the specified file cannot be located. This process was
     previously skipped if the path looked like it was referring to a file, i.e.
     if the last path component contained a period. In that case, a 404 error was
     returned. The behavior has been changed to look for an index file in all
     cases.
 
 - Core:
   . The type of PHP_DEBUG and PHP_ZTS constants changed to bool.
 
 - DOM:
   . New methods and constants were added to some DOM classes. If you inherit
     from these and you happen to have a method or property with the same name,
     you might encounter errors if the declaration is incompatible.
     Consult sections 2. New Features and 6. New Functions for a list of
     newly implemented methods and constants.
   . Some DOM methods previously returned false or a PHP_ERR DOMException if a new
     node could not be allocated. They consistently throw an INVALID_STATE_ERR
     DOMException now. This situation is extremely unlikely though and probably
     will not affect you. As a result DOMImplementation::createDocument() now has
     a tentative return type of DOMDocument instead of DOMDocument|false.
 
 - MBString:
   . mb_encode_numericentity() and mb_decode_numericentity() now check that
     the $map is only composed of integers, if not a ValueError is thrown.
   . mb_http_input() now always throws a ValueError if the $type is invalid.
   . On invalid strings (those with encoding errors), mb_substr() now interprets
     character indices in the same manner as most other mbstring functions. This
     means that character indices returned by mb_strpos() can be passed to mb_substr().
   . For SJIS-Mac (MacJapanese) strings, character indices passed to mb_substr() now
     refer to the indices of the Unicode codepoints which are produced when the string
     is converted to Unicode. This is significant because around 40 SJIS-Mac characters
     convert to a sequence of multiple Unicode codepoints.
 
+- Opcache:
+  . The JIT config defaults changed from opcache.jit=tracing and
+    opcache.jit_buffer_size=0 to opcache.jit=disable and
+    opcache.jit_buffer_size=64M, respectively. This does not affect the default
+    behavior, the JIT is still disabled by default. However, it is now disabled
+    through the opcache.jit setting, rather than opcache.jit_buffer_size. This
+    may affect users who previously enabled JIT through opcache.jit_buffer_size
+    exclusively, without also specifying a JIT mode using opcache.jit. To enable
+    JIT, set the opcache.jit config value accordingly.
+
 - PDO_DBLIB:
   . setAttribute, DBLIB_ATTR_STRINGIFY_UNIQUEIDENTIFIER and DBLIB_ATTR_DATETIME_CONVERT
     have been changed to set value as a bool.
 
 - PDO_FIREBIRD:
   . getAttribute, ATTR_AUTOCOMMIT has been changed to get the value as a bool.
 
 - PDO_MYSQL:
   . getAttribute, ATTR_AUTOCOMMIT, ATTR_EMULATE_PREPARES, MYSQL_ATTR_DIRECT_QUERY have
     been changed to get values ​​as bool.
 
 - PDO_PGSQL:
   . The DSN's credentials, when set, are given priority over their PDO
     constructor counterparts, being closer to the documentation states.
 
 - PCNTL:
   . The functions pcntl_sigprocmask(), pcntl_sigwaitinfo() and
     pcntl_sigtimedwait() now throw:
     - A ValueError if the $signals array is empty (except for
       pcntl_sigprocmask() if the $mode is SIG_SETMASK).
     - A TypeError if a value of the $signals array is not an integer
     - A ValueError if a value of the $signals array is not a valid signal number
     Moreover, those functions now always return false on failure.
     In some case previously it could return the value -1.
   . The function pcntl_sigprocmask() will also now throw:
     - A ValueError if $mode is not one of SIG_BLOCK, SIG_UNBLOCK, or SIG_SETMASK
   . The function pcntl_sigtimedwait() will also now throw:
     - A ValueError if $seconds is less than 0
     - A ValueError if $nanoseconds is less than 0 or greater than 1e9
     - A ValueError if both $seconds and $nanoseconds are 0
 
 - SimpleXML:
   . Get methods called, or casting to a string on a SimpleXMLElement will no
     longer implicitly reset the iterator data, unless explicitly rewound.
     For example, casting an element to a string within a foreach loop would
     cause an infinite loop because it destroyed the current iterator data.
     This is no longer the case as a consequence of the bugfixes for GH-12192,
     GH-12208, #55098.
 
 - SPL:
   . Out of bounds accesses in SplFixedArray now throw an exception of type
     OutOfBoundsException instead of RuntimeException. As OutOfBoundsException
     is a child class of RuntimeException, code that uses RuntimeException
     continues to function.
 
 - Standard:
   . round() now validates the value of the $mode parameter and throws a ValueError
     for invalid modes. Previously invalid modes would have been interpreted as
     PHP_ROUND_HALF_UP.
   . strcspn() with empty $characters now returns the length of the string instead
     of incorrectly stopping at the first NUL character. See GH-12592.
 
 - XML:
   . The xml_set_*_handler() functions now declare and check for an effective
     signature of callable|string|null for the $handler parameters.
     Moreover, values of type string that correspond to method names,
     of object set with xml_set_object() are now checked to see if the method
     exists on the class of the previously passed object.
     This means that xml_set_object() must now always be called prior to setting
     method names as callables.
     Passing an empty string to disable the handler is still allowed,
     but not recommended.
 
 - XSL:
   . XSLTProcessor::setParameter() will now throw a ValueError when its arguments
     contain null bytes. This never actually worked correctly in the first place,
     which is why it throws an exception nowadays.
   . Failure to call a PHP function callback during evaluation now throws
     instead of emitting a warning.
     RFC: https://wiki.php.net/rfc/improve_callbacks_dom_and_xsl
 
 ========================================
 2. New Features
 ========================================
 
 - Date:
   . Added static methods
     DateTime[Immutable]::createFromTimestamp(int|float $timestamp): static.
 
 - DOM:
   . Added constant DOMNode::DOCUMENT_POSITION_DISCONNECTED.
   . Added constant DOMNode::DOCUMENT_POSITION_PRECEDING.
   . Added constant DOMNode::DOCUMENT_POSITION_FOLLOWING.
   . Added constant DOMNode::DOCUMENT_POSITION_CONTAINS.
   . Added constant DOMNode::DOCUMENT_POSITION_CONTAINED_BY.
   . Added constant DOMNode::DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC.
   . Implemented DOM HTML5 parsing and serialization.
     RFC: https://wiki.php.net/rfc/domdocument_html5_parser.
     This RFC adds the new DOM namespace along with class and constant aliases.
     There are two new classes to handle HTML and XML documents:
     DOM\HTMLDocument and DOM\XMLDocument.
     These classes provide a cleaner API to handle HTML and XML documents.
     Furthermore, the DOM\HTMLDocument class implements spec-compliant HTML5
     parsing and serialization.
   . It is now possible to pass any callable to registerPhpFunctions().
     RFC: https://wiki.php.net/rfc/improve_callbacks_dom_and_xsl
 
 - FPM:
   . Flushing headers without a body will now succeed. See GH-12785.
 
 - Phar:
   . Added support for the unix timestamp extension for zip archives.
 
 - PDO:
   . Added support for driver-specific subclasses.
     RFC: https://wiki.php.net/rfc/pdo_driver_specific_subclasses
     This RFC adds subclasses for PDO in order to better support
     database-specific functionalities. The new classes are
     instantiatable either via calling the PDO::connect() method
     or by invoking their constructor directly.
diff --git a/benchmark/benchmark.php b/benchmark/benchmark.php
index a0c01ca766..ec39e9f331 100644
--- a/benchmark/benchmark.php
+++ b/benchmark/benchmark.php
@@ -96,35 +96,36 @@ function runPhpCommand(array $args, ?string $cwd = null): ProcessResult {
 function runValgrindPhpCgiCommand(
     string $name,
     array $args,
     ?string $cwd = null,
     bool $jit = false,
     int $warmup = 0,
     int $repeat = 1,
 ): array {
     global $phpCgi;
 
     $profileOut = __DIR__ . "/profiles/callgrind.out.$name";
     if ($jit) {
         $profileOut .= '.jit';
     }
 
     $process = runCommand([
         'valgrind',
         '--tool=callgrind',
         '--dump-instr=yes',
         "--callgrind-out-file=$profileOut",
         '--',
         $phpCgi,
         '-T' . ($warmup ? $warmup . ',' : '') . $repeat,
         '-d max_execution_time=0',
         '-d opcache.enable=1',
-        '-d opcache.jit_buffer_size=' . ($jit ? '128M' : '0'),
+        '-d opcache.jit=' . ($jit ? 'tracing' : 'disable'),
+        '-d opcache.jit_buffer_size=128M',
         '-d opcache.validate_timestamps=0',
         ...$args,
     ]);
     $instructions = extractInstructionsFromValgrindOutput($process->stderr);
     if ($repeat > 1) {
         $instructions = gmp_strval(gmp_div_q($instructions, $repeat));
     }
     return ['instructions' => $instructions];
 }
diff --git a/ext/opcache/jit/zend_jit.h b/ext/opcache/jit/zend_jit.h
index 06e91bb63c..074bf67cf2 100644
--- a/ext/opcache/jit/zend_jit.h
+++ b/ext/opcache/jit/zend_jit.h
@@ -1,97 +1,97 @@
 /*
    +----------------------------------------------------------------------+
    | Zend JIT                                                             |
    +----------------------------------------------------------------------+
    | Copyright (c) The PHP Group                                          |
    +----------------------------------------------------------------------+
    | This source file is subject to version 3.01 of the PHP license,      |
    | that is bundled with this package in the file LICENSE, and is        |
    | available through the world-wide-web at the following url:           |
    | https://www.php.net/license/3_01.txt                                 |
    | If you did not receive a copy of the PHP license and are unable to   |
    | obtain it through the world-wide-web, please send a note to          |
    | license@php.net so we can mail you a copy immediately.               |
    +----------------------------------------------------------------------+
    | Authors: Dmitry Stogov <dmitry@php.net>                              |
    +----------------------------------------------------------------------+
 */
 
 #ifndef HAVE_JIT_H
 #define HAVE_JIT_H
 
 #if defined(__x86_64__) || defined(i386) || defined(ZEND_WIN32)
 # define ZEND_JIT_TARGET_X86   1
 # define ZEND_JIT_TARGET_ARM64 0
 #elif defined (__aarch64__)
 # define ZEND_JIT_TARGET_X86   0
 # define ZEND_JIT_TARGET_ARM64 1
 #else
 # error "JIT not supported on this platform"
 #endif
 
 #define ZEND_JIT_LEVEL_NONE        0     /* no JIT */
 #define ZEND_JIT_LEVEL_MINIMAL     1     /* minimal JIT (subroutine threading) */
 #define ZEND_JIT_LEVEL_INLINE      2     /* selective inline threading */
 #define ZEND_JIT_LEVEL_OPT_FUNC    3     /* optimized JIT based on Type-Inference */
 #define ZEND_JIT_LEVEL_OPT_FUNCS   4     /* optimized JIT based on Type-Inference and call-tree */
 #define ZEND_JIT_LEVEL_OPT_SCRIPT  5     /* optimized JIT based on Type-Inference and inner-procedure analysis */
 
 #define ZEND_JIT_ON_SCRIPT_LOAD    0
 #define ZEND_JIT_ON_FIRST_EXEC     1
 #define ZEND_JIT_ON_PROF_REQUEST   2     /* compile the most frequently caled on first request functions */
 #define ZEND_JIT_ON_HOT_COUNTERS   3     /* compile functions after N calls or loop iterations */
 #define ZEND_JIT_ON_DOC_COMMENT    4     /* compile functions with "@jit" tag in doc-comments */
 #define ZEND_JIT_ON_HOT_TRACE      5     /* trace functions after N calls or loop iterations */
 
 #define ZEND_JIT_REG_ALLOC_LOCAL  (1<<0) /* local linear scan register allocation */
 #define ZEND_JIT_REG_ALLOC_GLOBAL (1<<1) /* global linear scan register allocation */
 #define ZEND_JIT_CPU_AVX          (1<<2) /* use AVX instructions, if available */
 
-#define ZEND_JIT_DEFAULT_BUFFER_SIZE  "0"
+#define ZEND_JIT_DEFAULT_BUFFER_SIZE  "64M"
 
 #define ZEND_JIT_COUNTER_INIT         32531
 
 #define ZEND_JIT_DEBUG_ASM       (1<<0)
 #define ZEND_JIT_DEBUG_SSA       (1<<1)
 #define ZEND_JIT_DEBUG_REG_ALLOC (1<<2)
 #define ZEND_JIT_DEBUG_ASM_STUBS (1<<3)
 
 #define ZEND_JIT_DEBUG_PERF      (1<<4)
 #define ZEND_JIT_DEBUG_PERF_DUMP (1<<5)
 #define ZEND_JIT_DEBUG_VTUNE     (1<<7)
 
 #define ZEND_JIT_DEBUG_GDB       (1<<8)
 #define ZEND_JIT_DEBUG_SIZE      (1<<9)
 #define ZEND_JIT_DEBUG_ASM_ADDR  (1<<10)
 
 #define ZEND_JIT_DEBUG_TRACE_START     (1<<12)
 #define ZEND_JIT_DEBUG_TRACE_STOP      (1<<13)
 #define ZEND_JIT_DEBUG_TRACE_COMPILED  (1<<14)
 #define ZEND_JIT_DEBUG_TRACE_EXIT      (1<<15)
 #define ZEND_JIT_DEBUG_TRACE_ABORT     (1<<16)
 #define ZEND_JIT_DEBUG_TRACE_BLACKLIST (1<<17)
 #define ZEND_JIT_DEBUG_TRACE_BYTECODE  (1<<18)
 #define ZEND_JIT_DEBUG_TRACE_TSSA      (1<<19)
 #define ZEND_JIT_DEBUG_TRACE_EXIT_INFO (1<<20)
 
 #define ZEND_JIT_DEBUG_IR_SRC            (1<<24)
 #define ZEND_JIT_DEBUG_IR_FINAL          (1<<25)
 #define ZEND_JIT_DEBUG_IR_CFG            (1<<26)
 #define ZEND_JIT_DEBUG_IR_REGS           (1<<27)
 
 #define ZEND_JIT_DEBUG_IR_AFTER_SCCP     (1<<28)
 #define ZEND_JIT_DEBUG_IR_AFTER_SCHEDULE (1<<29)
 #define ZEND_JIT_DEBUG_IR_AFTER_REGS     (1<<30)
 #define ZEND_JIT_DEBUG_IR_CODEGEN        (1U<<31)
 
 #define ZEND_JIT_DEBUG_PERSISTENT      0x1f0 /* profile and debugger flags can't be changed at run-time */
 
 #define ZEND_JIT_TRACE_MAX_LENGTH        1024 /* max length of single trace */
 #define ZEND_JIT_TRACE_MAX_EXITS          512 /* max number of side exits per trace */
 
 #define ZEND_JIT_TRACE_MAX_FUNCS           30 /* max number of different functions in a single trace */
 #define ZEND_JIT_TRACE_MAX_CALL_DEPTH      10 /* max depth of inlined calls */
 #define ZEND_JIT_TRACE_MAX_RET_DEPTH        4 /* max depth of inlined returns */
 #define ZEND_JIT_TRACE_MAX_LOOPS_UNROLL    10 /* max number of unrolled loops */
 
 #define ZEND_JIT_TRACE_BAD_ROOT_SLOTS      64 /* number of slots in bad root trace cache */
diff --git a/ext/opcache/tests/bug81272.phpt b/ext/opcache/tests/bug81272.phpt
index 7e31002975..7878f46d2c 100644
--- a/ext/opcache/tests/bug81272.phpt
+++ b/ext/opcache/tests/bug81272.phpt
@@ -1,11 +1,10 @@
 --TEST--
 Bug #81272: Segfault in var[] after array_slice with JIT
 --EXTENSIONS--
 opcache
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
-opcache.jit_buffer_size=64M
 opcache.jit=function
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/add_001.phpt b/ext/opcache/tests/jit/add_001.phpt
index b2c8eea5a5..e7722ecc42 100644
--- a/ext/opcache/tests/jit/add_001.phpt
+++ b/ext/opcache/tests/jit/add_001.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT ADD: 001
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/add_002.phpt b/ext/opcache/tests/jit/add_002.phpt
index 628187e3f0..097fe2dcb0 100644
--- a/ext/opcache/tests/jit/add_002.phpt
+++ b/ext/opcache/tests/jit/add_002.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT ADD: 002
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/add_003.phpt b/ext/opcache/tests/jit/add_003.phpt
index 9225ec3149..e87cf08706 100644
--- a/ext/opcache/tests/jit/add_003.phpt
+++ b/ext/opcache/tests/jit/add_003.phpt
@@ -1,16 +1,15 @@
 --TEST--
 JIT ADD: 003
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --SKIPIF--
 <?php
 if (PHP_INT_SIZE != 8) die("skip this test is for 64bit platform only");
 ?>
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/add_004.phpt b/ext/opcache/tests/jit/add_004.phpt
index 5cebf2d620..cebf63c37d 100644
--- a/ext/opcache/tests/jit/add_004.phpt
+++ b/ext/opcache/tests/jit/add_004.phpt
@@ -1,16 +1,15 @@
 --TEST--
 JIT ADD: 004
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --SKIPIF--
 <?php
 if (PHP_INT_SIZE != 8) die("skip this test is for 64bit platform only");
 ?>
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/add_005.phpt b/ext/opcache/tests/jit/add_005.phpt
index 767f92bf62..e44565266c 100644
--- a/ext/opcache/tests/jit/add_005.phpt
+++ b/ext/opcache/tests/jit/add_005.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT ADD: 005
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/add_006.phpt b/ext/opcache/tests/jit/add_006.phpt
index ae733a58b5..f933f132ab 100644
--- a/ext/opcache/tests/jit/add_006.phpt
+++ b/ext/opcache/tests/jit/add_006.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT ADD: 006
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/add_007.phpt b/ext/opcache/tests/jit/add_007.phpt
index 060dabcf7c..672a518c5b 100644
--- a/ext/opcache/tests/jit/add_007.phpt
+++ b/ext/opcache/tests/jit/add_007.phpt
@@ -1,15 +1,14 @@
 --TEST--
 JIT ADD: 007 Addition with immediate values
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --EXTENSIONS--
 opcache
 --SKIPIF--
 <?php
 if (PHP_INT_SIZE != 8) die("skip: 64-bit only"); ?>
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/add_008.phpt b/ext/opcache/tests/jit/add_008.phpt
index 71b615e702..719192b4de 100644
--- a/ext/opcache/tests/jit/add_008.phpt
+++ b/ext/opcache/tests/jit/add_008.phpt
@@ -1,18 +1,17 @@
 --TEST--
 JIT ADD: 008 Addition with reference IS_VAR
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 opcache.jit=tracing
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
 ($a =& $b) + ($a = 1);
 ?>
 DONE
 --EXPECT--
 DONE
diff --git a/ext/opcache/tests/jit/add_009.phpt b/ext/opcache/tests/jit/add_009.phpt
index 1ecaf3089e..37456ec037 100644
--- a/ext/opcache/tests/jit/add_009.phpt
+++ b/ext/opcache/tests/jit/add_009.phpt
@@ -1,15 +1,14 @@
 --TEST--
 JIT ADD: 009 two array references
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 $a = []; 
 var_dump(($b =& $a) + ($b =& $a));
 ?>
 --EXPECT--
 array(0) {
 }
diff --git a/ext/opcache/tests/jit/add_010.phpt b/ext/opcache/tests/jit/add_010.phpt
index 3285e19e7d..d3d9f56be0 100644
--- a/ext/opcache/tests/jit/add_010.phpt
+++ b/ext/opcache/tests/jit/add_010.phpt
@@ -1,11 +1,10 @@
 --TEST--
 JIT ADD: 010 overflow handling
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --SKIPIF--
 <?php if (PHP_INT_SIZE != 8) die("skip: 64-bit only"); ?>
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/add_011.phpt b/ext/opcache/tests/jit/add_011.phpt
index 0a8d15fbb9..28c598c554 100644
--- a/ext/opcache/tests/jit/add_011.phpt
+++ b/ext/opcache/tests/jit/add_011.phpt
@@ -1,11 +1,10 @@
 --TEST--
 JIT ADD: 011 overflow handling
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --SKIPIF--
 <?php if (PHP_INT_SIZE != 8) die("skip: 64-bit only"); ?>
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/add_012.phpt b/ext/opcache/tests/jit/add_012.phpt
index e891a5e1d3..707b795f5e 100644
--- a/ext/opcache/tests/jit/add_012.phpt
+++ b/ext/opcache/tests/jit/add_012.phpt
@@ -1,19 +1,18 @@
 --TEST--
 JIT ADD: 012 register allocation for 64-bit constant
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --SKIPIF--
 <?php if (PHP_INT_SIZE != 8) die("skip: 64-bit only"); ?>
 --FILE--
 <?php
 $x = 0;
 $y = [0]; 
 $y[$x]++;
 $y[$x] += 4467793343;
 ?>
 DONE
 --EXPECT--
 DONE
\ No newline at end of file
diff --git a/ext/opcache/tests/jit/add_013.phpt b/ext/opcache/tests/jit/add_013.phpt
index 7ec0a794c1..9bac9ad510 100644
--- a/ext/opcache/tests/jit/add_013.phpt
+++ b/ext/opcache/tests/jit/add_013.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT ADD: 013 register allocation (incorrect hinting)
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 function y(){
diff --git a/ext/opcache/tests/jit/add_014.phpt b/ext/opcache/tests/jit/add_014.phpt
index 94a0717696..7f4b96229a 100644
--- a/ext/opcache/tests/jit/add_014.phpt
+++ b/ext/opcache/tests/jit/add_014.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT ADD: 014 incorrect guard elimination
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 function test() {
diff --git a/ext/opcache/tests/jit/and_001.phpt b/ext/opcache/tests/jit/and_001.phpt
index 62b397c5a3..cbadecd839 100644
--- a/ext/opcache/tests/jit/and_001.phpt
+++ b/ext/opcache/tests/jit/and_001.phpt
@@ -1,17 +1,16 @@
 --TEST--
 JIT BW_AND: 001 (empty string)
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 $a = [];
 $b = "";
 $a["" & $b] *= 3;
 ?>
 DONE
 --EXPECTF--
 Warning: Undefined array key "" in %sand_001.php on line 4
 DONE
diff --git a/ext/opcache/tests/jit/and_002.phpt b/ext/opcache/tests/jit/and_002.phpt
index 97f2d988ca..2b2f64c8f7 100644
--- a/ext/opcache/tests/jit/and_002.phpt
+++ b/ext/opcache/tests/jit/and_002.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT BW_AND: 002 (memory leak)
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 function t($a) {
diff --git a/ext/opcache/tests/jit/array_elem_002.phpt b/ext/opcache/tests/jit/array_elem_002.phpt
index d7f92a65f8..250f543490 100644
--- a/ext/opcache/tests/jit/array_elem_002.phpt
+++ b/ext/opcache/tests/jit/array_elem_002.phpt
@@ -1,20 +1,19 @@
 --TEST--
 Occupied next element
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 $float = 100000000000000000000000000000000000000;
 $string_float= PHP_INT_MAX;
 $a = [$float => 'a', $string_float => 'b', 'c', 'd'];
 ?>
 --EXPECTF--
 Deprecated: Implicit conversion from float 1.0E+38 to int loses precision in %sarray_elem_002.php on line 4
 
 Fatal error: Uncaught Error: Cannot add element to the array as the next element is already occupied in %sarray_elem_002.php:4
 Stack trace:
 #0 {main}
   thrown in %sarray_elem_002.php on line 4
diff --git a/ext/opcache/tests/jit/assign_001.phpt b/ext/opcache/tests/jit/assign_001.phpt
index 63a8911f29..a5a8afa027 100644
--- a/ext/opcache/tests/jit/assign_001.phpt
+++ b/ext/opcache/tests/jit/assign_001.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT ASSIGN: 001
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/assign_002.phpt b/ext/opcache/tests/jit/assign_002.phpt
index c7c67bc4cb..901b156065 100644
--- a/ext/opcache/tests/jit/assign_002.phpt
+++ b/ext/opcache/tests/jit/assign_002.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT ASSIGN: 002
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 ;opcache.jit_debug=1
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/assign_003.phpt b/ext/opcache/tests/jit/assign_003.phpt
index 21c7764a2d..81bd9e3487 100644
--- a/ext/opcache/tests/jit/assign_003.phpt
+++ b/ext/opcache/tests/jit/assign_003.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT ASSIGN: 003
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/assign_004.phpt b/ext/opcache/tests/jit/assign_004.phpt
index 0626ea4990..d78e905d94 100644
--- a/ext/opcache/tests/jit/assign_004.phpt
+++ b/ext/opcache/tests/jit/assign_004.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT ASSIGN: 004
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/assign_005.phpt b/ext/opcache/tests/jit/assign_005.phpt
index d0ab3e235e..783008782d 100644
--- a/ext/opcache/tests/jit/assign_005.phpt
+++ b/ext/opcache/tests/jit/assign_005.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT ASSIGN: 005
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/assign_006.phpt b/ext/opcache/tests/jit/assign_006.phpt
index f882d04bef..cd02b5bb77 100644
--- a/ext/opcache/tests/jit/assign_006.phpt
+++ b/ext/opcache/tests/jit/assign_006.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT ASSIGN: 006
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/assign_007.phpt b/ext/opcache/tests/jit/assign_007.phpt
index 9143f9da90..2e5db17092 100644
--- a/ext/opcache/tests/jit/assign_007.phpt
+++ b/ext/opcache/tests/jit/assign_007.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT ASSIGN: 007
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/assign_008.phpt b/ext/opcache/tests/jit/assign_008.phpt
index 2cd1915c02..5e9cf0bdeb 100644
--- a/ext/opcache/tests/jit/assign_008.phpt
+++ b/ext/opcache/tests/jit/assign_008.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT ASSIGN: 008
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/assign_009.phpt b/ext/opcache/tests/jit/assign_009.phpt
index 713e431733..a199fb6517 100644
--- a/ext/opcache/tests/jit/assign_009.phpt
+++ b/ext/opcache/tests/jit/assign_009.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT ASSIGN: 009
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/assign_010.phpt b/ext/opcache/tests/jit/assign_010.phpt
index fe03073434..3fd119ff75 100644
--- a/ext/opcache/tests/jit/assign_010.phpt
+++ b/ext/opcache/tests/jit/assign_010.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT ASSIGN: 010
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/assign_011.phpt b/ext/opcache/tests/jit/assign_011.phpt
index 8786213c48..6e1a5b07e6 100644
--- a/ext/opcache/tests/jit/assign_011.phpt
+++ b/ext/opcache/tests/jit/assign_011.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT ASSIGN: 011
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/assign_012.phpt b/ext/opcache/tests/jit/assign_012.phpt
index 40acb48e5c..c50e3a2b3d 100644
--- a/ext/opcache/tests/jit/assign_012.phpt
+++ b/ext/opcache/tests/jit/assign_012.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT ASSIGN: 012
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/assign_013.phpt b/ext/opcache/tests/jit/assign_013.phpt
index abf0e9c5c9..ca213a8f7b 100644
--- a/ext/opcache/tests/jit/assign_013.phpt
+++ b/ext/opcache/tests/jit/assign_013.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT ASSIGN: 013
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/assign_014.phpt b/ext/opcache/tests/jit/assign_014.phpt
index 6e422f2078..495d9ad16e 100644
--- a/ext/opcache/tests/jit/assign_014.phpt
+++ b/ext/opcache/tests/jit/assign_014.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT ASSIGN: 014
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/assign_015.phpt b/ext/opcache/tests/jit/assign_015.phpt
index 9928240e60..aa2c36a282 100644
--- a/ext/opcache/tests/jit/assign_015.phpt
+++ b/ext/opcache/tests/jit/assign_015.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT ASSIGN: 015
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/assign_016.phpt b/ext/opcache/tests/jit/assign_016.phpt
index dc3fc4c4a6..65fb317199 100644
--- a/ext/opcache/tests/jit/assign_016.phpt
+++ b/ext/opcache/tests/jit/assign_016.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT ASSIGN: 016
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/assign_017.phpt b/ext/opcache/tests/jit/assign_017.phpt
index 1e616c802d..594c65d9a7 100644
--- a/ext/opcache/tests/jit/assign_017.phpt
+++ b/ext/opcache/tests/jit/assign_017.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT ASSIGN: 017
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/assign_018.phpt b/ext/opcache/tests/jit/assign_018.phpt
index a0fbcf5576..a0c29320ab 100644
--- a/ext/opcache/tests/jit/assign_018.phpt
+++ b/ext/opcache/tests/jit/assign_018.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT ASSIGN: 018
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/assign_019.phpt b/ext/opcache/tests/jit/assign_019.phpt
index 957646dfda..99d8bfa056 100644
--- a/ext/opcache/tests/jit/assign_019.phpt
+++ b/ext/opcache/tests/jit/assign_019.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT ASSIGN: 019
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/assign_020.phpt b/ext/opcache/tests/jit/assign_020.phpt
index 6af5791432..bbc220fff3 100644
--- a/ext/opcache/tests/jit/assign_020.phpt
+++ b/ext/opcache/tests/jit/assign_020.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT ASSIGN: 020
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/assign_021.phpt b/ext/opcache/tests/jit/assign_021.phpt
index a24f5751a4..df0d57a892 100644
--- a/ext/opcache/tests/jit/assign_021.phpt
+++ b/ext/opcache/tests/jit/assign_021.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT ASSIGN: 021
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/assign_022.phpt b/ext/opcache/tests/jit/assign_022.phpt
index 65b18486e2..c888b41026 100644
--- a/ext/opcache/tests/jit/assign_022.phpt
+++ b/ext/opcache/tests/jit/assign_022.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT ASSIGN: 022
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/assign_023.phpt b/ext/opcache/tests/jit/assign_023.phpt
index 236a7b08e0..93b47ace80 100644
--- a/ext/opcache/tests/jit/assign_023.phpt
+++ b/ext/opcache/tests/jit/assign_023.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT ASSIGN: 023
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/assign_024.phpt b/ext/opcache/tests/jit/assign_024.phpt
index 56ec1f1406..af856de6b9 100644
--- a/ext/opcache/tests/jit/assign_024.phpt
+++ b/ext/opcache/tests/jit/assign_024.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT ASSIGN: 024
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/assign_025.phpt b/ext/opcache/tests/jit/assign_025.phpt
index d5d0eb3cd7..299c981c1b 100644
--- a/ext/opcache/tests/jit/assign_025.phpt
+++ b/ext/opcache/tests/jit/assign_025.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT ASSIGN: 025
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/assign_026.phpt b/ext/opcache/tests/jit/assign_026.phpt
index e23c96a2d8..82124c63ae 100644
--- a/ext/opcache/tests/jit/assign_026.phpt
+++ b/ext/opcache/tests/jit/assign_026.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT ASSIGN: 026
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/assign_027.phpt b/ext/opcache/tests/jit/assign_027.phpt
index be2e275ca7..5c88a3e82f 100644
--- a/ext/opcache/tests/jit/assign_027.phpt
+++ b/ext/opcache/tests/jit/assign_027.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT ASSIGN: 027
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/assign_028.phpt b/ext/opcache/tests/jit/assign_028.phpt
index 38e41ec998..b3adcd70bf 100644
--- a/ext/opcache/tests/jit/assign_028.phpt
+++ b/ext/opcache/tests/jit/assign_028.phpt
@@ -1,13 +1,12 @@
 --TEST--
 JIT ASSIGN: 028
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/assign_029.phpt b/ext/opcache/tests/jit/assign_029.phpt
index e4f85db63a..109aa11cd7 100644
--- a/ext/opcache/tests/jit/assign_029.phpt
+++ b/ext/opcache/tests/jit/assign_029.phpt
@@ -1,13 +1,12 @@
 --TEST--
 JIT ASSIGN: 029
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/assign_030.phpt b/ext/opcache/tests/jit/assign_030.phpt
index f43cbc65dd..78db87d034 100644
--- a/ext/opcache/tests/jit/assign_030.phpt
+++ b/ext/opcache/tests/jit/assign_030.phpt
@@ -1,13 +1,12 @@
 --TEST--
 JIT ASSIGN: 030
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/assign_031.phpt b/ext/opcache/tests/jit/assign_031.phpt
index 8f8385c9e1..5c70f585f0 100644
--- a/ext/opcache/tests/jit/assign_031.phpt
+++ b/ext/opcache/tests/jit/assign_031.phpt
@@ -1,19 +1,18 @@
 --TEST--
 JIT ASSIGN: 031
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
 $c =& $a;
 $b = $a;
 echo "ok\n";
 ?>
 --EXPECT--
 ok
diff --git a/ext/opcache/tests/jit/assign_032.phpt b/ext/opcache/tests/jit/assign_032.phpt
index 57b7f69222..1737bae157 100644
--- a/ext/opcache/tests/jit/assign_032.phpt
+++ b/ext/opcache/tests/jit/assign_032.phpt
@@ -1,27 +1,26 @@
 --TEST--
 JIT ASSIGN: 032
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
 $var = "intergalactic";
 $var1 = "space";
 $var2 = &$var1;
 $var = $var2;
 var_dump($var);
 var_dump($var1);
 var_dump($var2);
 echo "Done\n";
 ?>
 --EXPECT--
 string(5) "space"
 string(5) "space"
 string(5) "space"
 Done
diff --git a/ext/opcache/tests/jit/assign_033.phpt b/ext/opcache/tests/jit/assign_033.phpt
index ef027f85a8..40b45492b8 100644
--- a/ext/opcache/tests/jit/assign_033.phpt
+++ b/ext/opcache/tests/jit/assign_033.phpt
@@ -1,13 +1,12 @@
 --TEST--
 JIT ASSIGN: 033
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/assign_034.phpt b/ext/opcache/tests/jit/assign_034.phpt
index 5200d2a598..4d6a02127e 100644
--- a/ext/opcache/tests/jit/assign_034.phpt
+++ b/ext/opcache/tests/jit/assign_034.phpt
@@ -1,13 +1,12 @@
 --TEST--
 JIT ASSIGN: 034
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/assign_035.phpt b/ext/opcache/tests/jit/assign_035.phpt
index ccea3477b4..813b5bdc9c 100644
--- a/ext/opcache/tests/jit/assign_035.phpt
+++ b/ext/opcache/tests/jit/assign_035.phpt
@@ -1,13 +1,12 @@
 --TEST--
 JIT ASSIGN: Segfault & memleak if no RC info
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/assign_036.phpt b/ext/opcache/tests/jit/assign_036.phpt
index a8717f47a3..6f5bdbe17f 100644
--- a/ext/opcache/tests/jit/assign_036.phpt
+++ b/ext/opcache/tests/jit/assign_036.phpt
@@ -1,13 +1,12 @@
 --TEST--
 JIT ASSIGN: Assign with INTERNED string(no RC)
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/assign_037.phpt b/ext/opcache/tests/jit/assign_037.phpt
index e18e11cab7..cc0b9aa963 100644
--- a/ext/opcache/tests/jit/assign_037.phpt
+++ b/ext/opcache/tests/jit/assign_037.phpt
@@ -1,20 +1,19 @@
 --TEST--
 JIT ASSIGN: Assign refcounted string (with result)
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
 $n = 2;
 $a = $b = str_repeat('a', $n);
 var_dump($a, $b);
 ?>
 --EXPECT--
 string(2) "aa"
 string(2) "aa"
diff --git a/ext/opcache/tests/jit/assign_038.phpt b/ext/opcache/tests/jit/assign_038.phpt
index dd726d58e9..d2d5c456f0 100644
--- a/ext/opcache/tests/jit/assign_038.phpt
+++ b/ext/opcache/tests/jit/assign_038.phpt
@@ -1,20 +1,19 @@
 --TEST--
 JIT ASSIGN: Assign constant (with result)
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 ;opcache.jit_debug=257
 opcache.optimization_level=0 ; disable optimizer to produce ASSIGN with result
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
 $a = $b = "bb";
 var_dump($a, $b);
 ?>
 --EXPECT--
 string(2) "bb"
 string(2) "bb"
diff --git a/ext/opcache/tests/jit/assign_039.phpt b/ext/opcache/tests/jit/assign_039.phpt
index 7571fe9970..2b702170de 100644
--- a/ext/opcache/tests/jit/assign_039.phpt
+++ b/ext/opcache/tests/jit/assign_039.phpt
@@ -1,18 +1,17 @@
 --TEST--
 JIT ASSIGN: Assign reference IS_VAR
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
 $a = $ref =& $val;
 var_dump($a);
 ?>
 --EXPECT--
 NULL
diff --git a/ext/opcache/tests/jit/assign_040.phpt b/ext/opcache/tests/jit/assign_040.phpt
index 6a60addfee..73eecfe2e1 100644
--- a/ext/opcache/tests/jit/assign_040.phpt
+++ b/ext/opcache/tests/jit/assign_040.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT ASSIGN: Typed reference error with return value
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/assign_041.phpt b/ext/opcache/tests/jit/assign_041.phpt
index b471a3991f..e7e2914875 100644
--- a/ext/opcache/tests/jit/assign_041.phpt
+++ b/ext/opcache/tests/jit/assign_041.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT ASSIGN: Assign to typed reference should return modified value
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/assign_042.phpt b/ext/opcache/tests/jit/assign_042.phpt
index a7cb5c97c4..8185bcf7c6 100644
--- a/ext/opcache/tests/jit/assign_042.phpt
+++ b/ext/opcache/tests/jit/assign_042.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT ASSIGN: Assign to of reference with 1 refcount
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/assign_043.phpt b/ext/opcache/tests/jit/assign_043.phpt
index 66c98b2499..edb0cb212a 100644
--- a/ext/opcache/tests/jit/assign_043.phpt
+++ b/ext/opcache/tests/jit/assign_043.phpt
@@ -1,22 +1,21 @@
 --TEST--
 JIT ASSIGN: Undef var notice promoted to exception
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --FILE--
 <?php
 set_error_handler(function($_, $m) {
     throw new Exception($m);
 });
 try {
     $a = $b;
     NOT_REACHED;
 } catch (Exception $e) {
     echo $e->getMessage(), "\n";
 }
 ?>
 --EXPECT--
 Undefined variable $b
diff --git a/ext/opcache/tests/jit/assign_044.phpt b/ext/opcache/tests/jit/assign_044.phpt
index 691acab661..e30483d2ca 100644
--- a/ext/opcache/tests/jit/assign_044.phpt
+++ b/ext/opcache/tests/jit/assign_044.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT ASSIGN: DASM_S_RANGE_VREG error
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/assign_045.phpt b/ext/opcache/tests/jit/assign_045.phpt
index f1dfde4674..8c8f6fc990 100644
--- a/ext/opcache/tests/jit/assign_045.phpt
+++ b/ext/opcache/tests/jit/assign_045.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT ASSIGN: incorrect assumption about in-memory zval type
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/assign_046.phpt b/ext/opcache/tests/jit/assign_046.phpt
index 3bba25ef4c..3e40c24066 100644
--- a/ext/opcache/tests/jit/assign_046.phpt
+++ b/ext/opcache/tests/jit/assign_046.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT ASSIGN: incorrect assumption about in-memory zval type
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/assign_047.phpt b/ext/opcache/tests/jit/assign_047.phpt
index 9335c8b1d8..dcd222a819 100644
--- a/ext/opcache/tests/jit/assign_047.phpt
+++ b/ext/opcache/tests/jit/assign_047.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT ASSIGN: incorrect narrowing to double
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/assign_048.phpt b/ext/opcache/tests/jit/assign_048.phpt
index 3b52e02fe7..ed7a058d86 100644
--- a/ext/opcache/tests/jit/assign_048.phpt
+++ b/ext/opcache/tests/jit/assign_048.phpt
@@ -1,11 +1,10 @@
 --TEST--
 JIT ASSIGN: incorrect type store elimination
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 opcache.optimization_level=0x7FFEBFFF
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/assign_049.phpt b/ext/opcache/tests/jit/assign_049.phpt
index c4132486b2..504d4e5be3 100644
--- a/ext/opcache/tests/jit/assign_049.phpt
+++ b/ext/opcache/tests/jit/assign_049.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT ASSIGN: register allocation on x86
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/assign_050.phpt b/ext/opcache/tests/jit/assign_050.phpt
index 940e5f83f2..91e038990a 100644
--- a/ext/opcache/tests/jit/assign_050.phpt
+++ b/ext/opcache/tests/jit/assign_050.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT ASSIGN: incorrect type store elimination
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/assign_051.phpt b/ext/opcache/tests/jit/assign_051.phpt
index da2ada01b3..999214e880 100644
--- a/ext/opcache/tests/jit/assign_051.phpt
+++ b/ext/opcache/tests/jit/assign_051.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT ASSIGN: incorrect assignment optimization
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/assign_052.phpt b/ext/opcache/tests/jit/assign_052.phpt
index 8cadabcabe..e00afab972 100644
--- a/ext/opcache/tests/jit/assign_052.phpt
+++ b/ext/opcache/tests/jit/assign_052.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT ASSIGN: incorrect reference counting
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/assign_053.phpt b/ext/opcache/tests/jit/assign_053.phpt
index 546bc4a856..7e226ab993 100644
--- a/ext/opcache/tests/jit/assign_053.phpt
+++ b/ext/opcache/tests/jit/assign_053.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT ASSIGN: memory leak
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/assign_054.phpt b/ext/opcache/tests/jit/assign_054.phpt
index a4c4706b7c..65370ef397 100644
--- a/ext/opcache/tests/jit/assign_054.phpt
+++ b/ext/opcache/tests/jit/assign_054.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT ASSIGN: missing type store
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=1M
 opcache.protect_memory=1
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/assign_055.phpt b/ext/opcache/tests/jit/assign_055.phpt
index acd98c1368..f359f4f9e7 100644
--- a/ext/opcache/tests/jit/assign_055.phpt
+++ b/ext/opcache/tests/jit/assign_055.phpt
@@ -1,25 +1,24 @@
 --TEST--
 JIT ASSIGN: memory leak
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --FILE--
 <?php
 set_error_handler(function() {
     (y);
 });
 $ret = new stdClass;
 try {
     $ret = $y;
 } catch (y) {
 }
 ?>
 --EXPECTF--
 Fatal error: Uncaught Error: Undefined constant "y" in %sassign_055.php:3
 Stack trace:
 #0 %sassign_055.php(7): {closure}(2, 'Undefined varia...', '%s', 7)
 #1 {main}
   thrown in %sassign_055.php on line 3
\ No newline at end of file
diff --git a/ext/opcache/tests/jit/assign_056.phpt b/ext/opcache/tests/jit/assign_056.phpt
index a4d8aa087c..9df80edccf 100644
--- a/ext/opcache/tests/jit/assign_056.phpt
+++ b/ext/opcache/tests/jit/assign_056.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT ASSIGN: ASSING+SEND and typed reference
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/assign_dim_002.phpt b/ext/opcache/tests/jit/assign_dim_002.phpt
index aebaaa0ad6..dac9393d5b 100644
--- a/ext/opcache/tests/jit/assign_dim_002.phpt
+++ b/ext/opcache/tests/jit/assign_dim_002.phpt
@@ -1,11 +1,10 @@
 --TEST--
 JIT ASSIGN_DIM: 002
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/assign_dim_003.phpt b/ext/opcache/tests/jit/assign_dim_003.phpt
index 685d250d73..95fed0b52c 100644
--- a/ext/opcache/tests/jit/assign_dim_003.phpt
+++ b/ext/opcache/tests/jit/assign_dim_003.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT ASSIGN_DIM: 003
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.jit=tracing
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/assign_dim_004.phpt b/ext/opcache/tests/jit/assign_dim_004.phpt
index 914699d9a9..b226e6acdc 100644
--- a/ext/opcache/tests/jit/assign_dim_004.phpt
+++ b/ext/opcache/tests/jit/assign_dim_004.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT ASSIGN_DIM: 004
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 class Test implements ArrayAccess {
diff --git a/ext/opcache/tests/jit/assign_dim_005.phpt b/ext/opcache/tests/jit/assign_dim_005.phpt
index b62ff388ac..e7bfdabacc 100644
--- a/ext/opcache/tests/jit/assign_dim_005.phpt
+++ b/ext/opcache/tests/jit/assign_dim_005.phpt
@@ -1,22 +1,21 @@
 --TEST--
 JIT ASSIGN_DIM: 005
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 set_error_handler(function ($code, $msg) {
 	echo "Error: $msg\n";
     $GLOBALS['a'] = null;
 });
 
 $a[$c] =                                                                                                                                    
 $a[$c] = 'x' ;
 var_dump($a);
 ?>
 --EXPECT--
 Error: Undefined variable $c
 Error: Undefined variable $c
 NULL
diff --git a/ext/opcache/tests/jit/assign_dim_006.phpt b/ext/opcache/tests/jit/assign_dim_006.phpt
index bc050e1585..5d17ba5018 100644
--- a/ext/opcache/tests/jit/assign_dim_006.phpt
+++ b/ext/opcache/tests/jit/assign_dim_006.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT ASSIGN_DIM: 006
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 function foo($s) {
diff --git a/ext/opcache/tests/jit/assign_dim_007.phpt b/ext/opcache/tests/jit/assign_dim_007.phpt
index 2593434a7c..0df4e291ae 100644
--- a/ext/opcache/tests/jit/assign_dim_007.phpt
+++ b/ext/opcache/tests/jit/assign_dim_007.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT ASSIGN_DIM: 007
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 set_error_handler(function() {
 	$GLOBALS['x'] = $GLOBALS['y'];
 });
diff --git a/ext/opcache/tests/jit/assign_dim_008.phpt b/ext/opcache/tests/jit/assign_dim_008.phpt
index ac3f04f062..71df64f913 100644
--- a/ext/opcache/tests/jit/assign_dim_008.phpt
+++ b/ext/opcache/tests/jit/assign_dim_008.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT ASSIGN_DIM: 008
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 function(int $a) {
diff --git a/ext/opcache/tests/jit/assign_dim_009.phpt b/ext/opcache/tests/jit/assign_dim_009.phpt
index 89d7d6ec34..448373ef08 100644
--- a/ext/opcache/tests/jit/assign_dim_009.phpt
+++ b/ext/opcache/tests/jit/assign_dim_009.phpt
@@ -1,14 +1,13 @@
 --TEST--
 JIT ASSIGN_DIM: 009
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 $y[] = $r = &$G;
 ?>
 DONE
 --EXPECT--
 DONE
diff --git a/ext/opcache/tests/jit/assign_dim_010.phpt b/ext/opcache/tests/jit/assign_dim_010.phpt
index b24866e161..efe7553a03 100644
--- a/ext/opcache/tests/jit/assign_dim_010.phpt
+++ b/ext/opcache/tests/jit/assign_dim_010.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT ASSIGN_DIM: 010
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 function test() {
diff --git a/ext/opcache/tests/jit/assign_dim_011.phpt b/ext/opcache/tests/jit/assign_dim_011.phpt
index 857f2ad17c..5df415c89e 100644
--- a/ext/opcache/tests/jit/assign_dim_011.phpt
+++ b/ext/opcache/tests/jit/assign_dim_011.phpt
@@ -1,25 +1,24 @@
 --TEST--
 JIT ASSIGN_DIM: 011
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 $my_var = null < 
 set_error_handler(function($code, $msg) use(&$my_var) {
 	echo "Err: $msg\n";
     $my_var[] = $my_var = 0;
 });
 try {
     $my_var[] = "";
 } catch (Throwable $e) {
     echo "Exception: " . $e->getMessage() . "\n";
 }
 ?>
 DONE
 --EXPECT--
 Err: Automatic conversion of false to array is deprecated
 Exception: Cannot use a scalar value as an array
 DONE
diff --git a/ext/opcache/tests/jit/assign_dim_012.phpt b/ext/opcache/tests/jit/assign_dim_012.phpt
index 7acc3c7b61..cc3781c402 100644
--- a/ext/opcache/tests/jit/assign_dim_012.phpt
+++ b/ext/opcache/tests/jit/assign_dim_012.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT ASSIGN_DIM: 012
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 function test($key) {
diff --git a/ext/opcache/tests/jit/assign_dim_013.phpt b/ext/opcache/tests/jit/assign_dim_013.phpt
index 436c2e3d46..cccf0a3215 100644
--- a/ext/opcache/tests/jit/assign_dim_013.phpt
+++ b/ext/opcache/tests/jit/assign_dim_013.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT ASSIGN_DIM: 013
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 function test() {
diff --git a/ext/opcache/tests/jit/assign_dim_014.phpt b/ext/opcache/tests/jit/assign_dim_014.phpt
index db897918a0..574b052584 100644
--- a/ext/opcache/tests/jit/assign_dim_014.phpt
+++ b/ext/opcache/tests/jit/assign_dim_014.phpt
@@ -1,19 +1,18 @@
 --TEST--
 JIT ASSIGN_DIM: 014
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 set_error_handler(function($code, $err) {
     echo "Error: $err\n";
     $GLOBALS['a'] = null;
 });
 $a[$y] = function(){};
 ?>
 DONE
 --EXPECT--
 Error: Undefined variable $y
 DONE
diff --git a/ext/opcache/tests/jit/assign_dim_015.phpt b/ext/opcache/tests/jit/assign_dim_015.phpt
index a9de0e4880..2a5b6d46d3 100644
--- a/ext/opcache/tests/jit/assign_dim_015.phpt
+++ b/ext/opcache/tests/jit/assign_dim_015.phpt
@@ -1,19 +1,18 @@
 --TEST--
 JIT ASSIGN_DIM: 015
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 set_error_handler(function($code, $msg) use (&$my_var) {
 	echo "Error: $msg\n";
     $my_var = 0;
 });
 $my_var[] = $y;
 ?>
 DONE
 --EXPECT--
 Error: Undefined variable $y
 DONE
diff --git a/ext/opcache/tests/jit/assign_dim_016.phpt b/ext/opcache/tests/jit/assign_dim_016.phpt
index 896c8329d9..0578041abf 100644
--- a/ext/opcache/tests/jit/assign_dim_016.phpt
+++ b/ext/opcache/tests/jit/assign_dim_016.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT ASSIGN_DIM: 016
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=1M
 --FILE--
 <?php
 function foo() {
diff --git a/ext/opcache/tests/jit/assign_dim_017.phpt b/ext/opcache/tests/jit/assign_dim_017.phpt
index cc5eef1265..9b0925f867 100644
--- a/ext/opcache/tests/jit/assign_dim_017.phpt
+++ b/ext/opcache/tests/jit/assign_dim_017.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT ASSIGN_DIM: 017
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=1M
 --FILE--
 <?php
 function test() {
diff --git a/ext/opcache/tests/jit/assign_dim_op_001.phpt b/ext/opcache/tests/jit/assign_dim_op_001.phpt
index a3f2caf2f1..c5b057e926 100644
--- a/ext/opcache/tests/jit/assign_dim_op_001.phpt
+++ b/ext/opcache/tests/jit/assign_dim_op_001.phpt
@@ -1,11 +1,10 @@
 --TEST--
 JIT ASSIGN_DIM_OP: 001
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/assign_dim_op_002.phpt b/ext/opcache/tests/jit/assign_dim_op_002.phpt
index ed6e294270..f11bfb91ff 100644
--- a/ext/opcache/tests/jit/assign_dim_op_002.phpt
+++ b/ext/opcache/tests/jit/assign_dim_op_002.phpt
@@ -1,15 +1,14 @@
 --TEST--
 JIT ASSIGN_DIM_OP: Undefined variable
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
 $a[] &= 1;
 ?>
 --EXPECTF--
 Warning: Undefined variable $a in %s on line %d
diff --git a/ext/opcache/tests/jit/assign_dim_op_003.phpt b/ext/opcache/tests/jit/assign_dim_op_003.phpt
index ece9e9b593..98c210a0e5 100644
--- a/ext/opcache/tests/jit/assign_dim_op_003.phpt
+++ b/ext/opcache/tests/jit/assign_dim_op_003.phpt
@@ -1,16 +1,15 @@
 --TEST--
 JIT ASSIGN_DIM_OP: Undefined variable variation
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 $a = [];
 $a[] &= $b;
 ?>
 --EXTENSIONS--
 opcache
 --EXPECTF--
 Warning: Undefined variable $b in %s on line %d
diff --git a/ext/opcache/tests/jit/assign_dim_op_004.phpt b/ext/opcache/tests/jit/assign_dim_op_004.phpt
index cc0b9007a4..c390c2b12d 100644
--- a/ext/opcache/tests/jit/assign_dim_op_004.phpt
+++ b/ext/opcache/tests/jit/assign_dim_op_004.phpt
@@ -1,18 +1,17 @@
 --TEST--
 JIT ASSIGN_DIM_OP: Cyclic dependency
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 $a = null; 
 $a[] .= $a;
 var_dump($a);
 ?>
 --EXPECT--
 array(1) {
   [0]=>
   string(0) ""
 }
diff --git a/ext/opcache/tests/jit/assign_dim_op_005.phpt b/ext/opcache/tests/jit/assign_dim_op_005.phpt
index 47ef8bfdd5..a25cc7505e 100644
--- a/ext/opcache/tests/jit/assign_dim_op_005.phpt
+++ b/ext/opcache/tests/jit/assign_dim_op_005.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT ASSIGN_DIM_OP: Undefined variable and index with exception
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 set_error_handler(function($_, $m){
     throw new Exception($m);
 });
diff --git a/ext/opcache/tests/jit/assign_dim_op_006.phpt b/ext/opcache/tests/jit/assign_dim_op_006.phpt
index 75a83b4f4d..8bfb919717 100644
--- a/ext/opcache/tests/jit/assign_dim_op_006.phpt
+++ b/ext/opcache/tests/jit/assign_dim_op_006.phpt
@@ -1,19 +1,18 @@
 --TEST--
 JIT ASSIGN_DIM_OP 006: Clobbering array be user error handler
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 $my_var = null;
 set_error_handler(function() use(&$my_var) {
     $my_var = 0;
 });
 
 $my_var[0000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000] .= "xyz";
 var_dump($my_var);
 ?>
 --EXPECT--
 int(0)
diff --git a/ext/opcache/tests/jit/assign_dim_op_007.phpt b/ext/opcache/tests/jit/assign_dim_op_007.phpt
index b6bcf5edcf..8c25140bbe 100644
--- a/ext/opcache/tests/jit/assign_dim_op_007.phpt
+++ b/ext/opcache/tests/jit/assign_dim_op_007.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT ASSIGN_DIM_OP: overflow
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 class test {
diff --git a/ext/opcache/tests/jit/assign_dim_undef_exception.phpt b/ext/opcache/tests/jit/assign_dim_undef_exception.phpt
index 3177dcbb49..2c1d0274a1 100644
--- a/ext/opcache/tests/jit/assign_dim_undef_exception.phpt
+++ b/ext/opcache/tests/jit/assign_dim_undef_exception.phpt
@@ -1,12 +1,11 @@
 --TEST--
 Undef to exception for assign dim offset
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 set_error_handler(function($_, $m){
     throw new Exception($m);
 });
diff --git a/ext/opcache/tests/jit/assign_obj_001.phpt b/ext/opcache/tests/jit/assign_obj_001.phpt
index 23f3c703d7..c83a7e649e 100644
--- a/ext/opcache/tests/jit/assign_obj_001.phpt
+++ b/ext/opcache/tests/jit/assign_obj_001.phpt
@@ -1,11 +1,10 @@
 --TEST--
 JIT ASSIGN_OBJ: Assign property on null
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/assign_obj_002.phpt b/ext/opcache/tests/jit/assign_obj_002.phpt
index 43d4193270..2b211f79d5 100644
--- a/ext/opcache/tests/jit/assign_obj_002.phpt
+++ b/ext/opcache/tests/jit/assign_obj_002.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT ASSIGN_OBJ: Assign undefined vatiable to property
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.jit=function
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/assign_obj_003.phpt b/ext/opcache/tests/jit/assign_obj_003.phpt
index c3c9cc11c9..4d878d648e 100644
--- a/ext/opcache/tests/jit/assign_obj_003.phpt
+++ b/ext/opcache/tests/jit/assign_obj_003.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT ASSIGN_OBJ: Assign undefined vatiable to property
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 class Node {
diff --git a/ext/opcache/tests/jit/assign_obj_004.phpt b/ext/opcache/tests/jit/assign_obj_004.phpt
index 2b210bed44..f4b2246a6f 100644
--- a/ext/opcache/tests/jit/assign_obj_004.phpt
+++ b/ext/opcache/tests/jit/assign_obj_004.phpt
@@ -1,17 +1,16 @@
 --TEST--
 JIT ASSIGN_OBJ: Assign property to undefined value
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=1M
 --FILE--
 <?php
 functiOn foo() {
     $obj->y = 42;
     $obj && y;
 }
 ?>
 DONE
 --EXPECT--
 DONE
diff --git a/ext/opcache/tests/jit/assign_obj_on_null.phpt b/ext/opcache/tests/jit/assign_obj_on_null.phpt
index d7cd8b637c..3ba85f20a2 100644
--- a/ext/opcache/tests/jit/assign_obj_on_null.phpt
+++ b/ext/opcache/tests/jit/assign_obj_on_null.phpt
@@ -1,10 +1,9 @@
 --TEST--
 ASSIGN_OBJ on null reference returned from __get()
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 class Test {
diff --git a/ext/opcache/tests/jit/assign_obj_op_001.phpt b/ext/opcache/tests/jit/assign_obj_op_001.phpt
index 3cfd74fc06..5b2a6d793d 100644
--- a/ext/opcache/tests/jit/assign_obj_op_001.phpt
+++ b/ext/opcache/tests/jit/assign_obj_op_001.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT ASSIGN_OBJ_OP: Unsupported types
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 class Test{
diff --git a/ext/opcache/tests/jit/assign_obj_op_002.phpt b/ext/opcache/tests/jit/assign_obj_op_002.phpt
index fb4c2f2af0..a61678e97a 100644
--- a/ext/opcache/tests/jit/assign_obj_op_002.phpt
+++ b/ext/opcache/tests/jit/assign_obj_op_002.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT ASSIGN_OBJ_OP: memory leak
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 class A {
diff --git a/ext/opcache/tests/jit/assign_obj_op_003.phpt b/ext/opcache/tests/jit/assign_obj_op_003.phpt
index d5f3ba1207..37a28afc55 100644
--- a/ext/opcache/tests/jit/assign_obj_op_003.phpt
+++ b/ext/opcache/tests/jit/assign_obj_op_003.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT ASSIGN_OBJ_OP: invalid type inference
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 class Foo {
diff --git a/ext/opcache/tests/jit/assign_obj_ref_001.phpt b/ext/opcache/tests/jit/assign_obj_ref_001.phpt
index 92150f2f80..c5af61ee9e 100644
--- a/ext/opcache/tests/jit/assign_obj_ref_001.phpt
+++ b/ext/opcache/tests/jit/assign_obj_ref_001.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT ASSIGN_OBJ_REF: 001
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 function test() {
diff --git a/ext/opcache/tests/jit/assign_op_001.phpt b/ext/opcache/tests/jit/assign_op_001.phpt
index 6dae9335c5..957de4d83c 100644
--- a/ext/opcache/tests/jit/assign_op_001.phpt
+++ b/ext/opcache/tests/jit/assign_op_001.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT ASSIGN_OP: 001
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 function test1($a) {
diff --git a/ext/opcache/tests/jit/assign_op_002.phpt b/ext/opcache/tests/jit/assign_op_002.phpt
index bc8078f59a..fb8b0e46b7 100644
--- a/ext/opcache/tests/jit/assign_op_002.phpt
+++ b/ext/opcache/tests/jit/assign_op_002.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT ASSIGN_OP: 002
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 class Test {
diff --git a/ext/opcache/tests/jit/assign_op_003.phpt b/ext/opcache/tests/jit/assign_op_003.phpt
index 6c7cc5912d..fbccb80e95 100644
--- a/ext/opcache/tests/jit/assign_op_003.phpt
+++ b/ext/opcache/tests/jit/assign_op_003.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT ASSIGN_OP: 003
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 function test() {
diff --git a/ext/opcache/tests/jit/assign_op_004.phpt b/ext/opcache/tests/jit/assign_op_004.phpt
index 02160472ff..4e92cb2fd1 100644
--- a/ext/opcache/tests/jit/assign_op_004.phpt
+++ b/ext/opcache/tests/jit/assign_op_004.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT ASSIGN_OP: 004
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 function test() {
diff --git a/ext/opcache/tests/jit/assign_op_005.phpt b/ext/opcache/tests/jit/assign_op_005.phpt
index 72a48b3df2..63c62e4a67 100644
--- a/ext/opcache/tests/jit/assign_op_005.phpt
+++ b/ext/opcache/tests/jit/assign_op_005.phpt
@@ -1,18 +1,17 @@
 --TEST--
 JIT ASSIGN_OP: 005
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 $a = ["xy" => 0];
 $x = "";
 $a["x{$x}y"] %= 0;
 ?>
 --EXPECTF--
 Fatal error: Uncaught DivisionByZeroError: Modulo by zero in %sassign_op_005.php:4
 Stack trace:
 #0 {main}
   thrown in %sassign_op_005.php on line 4
diff --git a/ext/opcache/tests/jit/assign_op_006.phpt b/ext/opcache/tests/jit/assign_op_006.phpt
index 9f870b4505..5feeafacd9 100644
--- a/ext/opcache/tests/jit/assign_op_006.phpt
+++ b/ext/opcache/tests/jit/assign_op_006.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT ASSIGN_OP: 006 concationation with itself
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 function test($a) {
diff --git a/ext/opcache/tests/jit/assign_op_007.phpt b/ext/opcache/tests/jit/assign_op_007.phpt
index b217f940cd..a8f1509693 100644
--- a/ext/opcache/tests/jit/assign_op_007.phpt
+++ b/ext/opcache/tests/jit/assign_op_007.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT ASSIGN_OP: 007 Arrays merging with return value 
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 function test() {
diff --git a/ext/opcache/tests/jit/assign_op_008.phpt b/ext/opcache/tests/jit/assign_op_008.phpt
index a3fa61204c..bd671838d9 100644
--- a/ext/opcache/tests/jit/assign_op_008.phpt
+++ b/ext/opcache/tests/jit/assign_op_008.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT ASSIGN_OP: 008 Arrays merging with itself
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 function test() {
diff --git a/ext/opcache/tests/jit/assign_op_009.phpt b/ext/opcache/tests/jit/assign_op_009.phpt
index 7830c9b572..31195a74dd 100644
--- a/ext/opcache/tests/jit/assign_op_009.phpt
+++ b/ext/opcache/tests/jit/assign_op_009.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT ASSIGN_OP: 009 incorrect guard motion out of the loop
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 function foo() {
diff --git a/ext/opcache/tests/jit/assign_static_prop_001.phpt b/ext/opcache/tests/jit/assign_static_prop_001.phpt
index b7a54a150d..07ee6761fc 100644
--- a/ext/opcache/tests/jit/assign_static_prop_001.phpt
+++ b/ext/opcache/tests/jit/assign_static_prop_001.phpt
@@ -1,11 +1,10 @@
 --TEST--
 JIT ASSIGN_STATIC_PROP: 001
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/assign_static_prop_op_001.phpt b/ext/opcache/tests/jit/assign_static_prop_op_001.phpt
index da28851584..a0490f0b81 100644
--- a/ext/opcache/tests/jit/assign_static_prop_op_001.phpt
+++ b/ext/opcache/tests/jit/assign_static_prop_op_001.phpt
@@ -1,11 +1,10 @@
 --TEST--
 JIT ASSIGN_STATIC_PROP_OP: 001
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=1M
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/bind_global_001.phpt b/ext/opcache/tests/jit/bind_global_001.phpt
index 5ad6fd2619..7554696312 100644
--- a/ext/opcache/tests/jit/bind_global_001.phpt
+++ b/ext/opcache/tests/jit/bind_global_001.phpt
@@ -1,10 +1,9 @@
 --TEST--
 Bind global and immutable string
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=1M
 --FILE--
 <?php
 function foo($a = '') {
diff --git a/ext/opcache/tests/jit/bind_static.phpt b/ext/opcache/tests/jit/bind_static.phpt
index c79d244bef..3aaef1befb 100644
--- a/ext/opcache/tests/jit/bind_static.phpt
+++ b/ext/opcache/tests/jit/bind_static.phpt
@@ -1,10 +1,9 @@
 --TEST--
 Bind static may throw
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 function test() {
diff --git a/ext/opcache/tests/jit/bind_static_002.phpt b/ext/opcache/tests/jit/bind_static_002.phpt
index b3b414b655..3f56dfbd5d 100644
--- a/ext/opcache/tests/jit/bind_static_002.phpt
+++ b/ext/opcache/tests/jit/bind_static_002.phpt
@@ -1,10 +1,9 @@
 --TEST--
 Bind static deoptimization
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=1M
 --FILE--
 <?php
 function test($n) {
diff --git a/ext/opcache/tests/jit/bool_not_001.phpt b/ext/opcache/tests/jit/bool_not_001.phpt
index f81373bd3c..e34abdf974 100644
--- a/ext/opcache/tests/jit/bool_not_001.phpt
+++ b/ext/opcache/tests/jit/bool_not_001.phpt
@@ -1,13 +1,12 @@
 --TEST--
 JIT BOOL_NOT: 001 Memory leak in case of reference to bool
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 opcache.jit=function
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/bool_not_002.phpt b/ext/opcache/tests/jit/bool_not_002.phpt
index 088f4e8892..588a33ea5a 100644
--- a/ext/opcache/tests/jit/bool_not_002.phpt
+++ b/ext/opcache/tests/jit/bool_not_002.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT BOOL_NOT: 002 Incorrect function JIT for MAY_BE_DOUBLE|MAY_BE_UNDEF
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/bug77857.phpt b/ext/opcache/tests/jit/bug77857.phpt
index 7533b6df0f..cbb89739b7 100644
--- a/ext/opcache/tests/jit/bug77857.phpt
+++ b/ext/opcache/tests/jit/bug77857.phpt
@@ -1,12 +1,11 @@
 --TEST--
 Bug #77857 (Wrong result if executed with JIT)
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.jit=1205
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/bug79888.phpt b/ext/opcache/tests/jit/bug79888.phpt
index 9929f2ac99..38d42707f0 100644
--- a/ext/opcache/tests/jit/bug79888.phpt
+++ b/ext/opcache/tests/jit/bug79888.phpt
@@ -1,12 +1,11 @@
 --TEST--
 Bug #79888 (Incorrect execution with JIT enabled)
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.jit=1205
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/bug80426.phpt b/ext/opcache/tests/jit/bug80426.phpt
index 025e93ae85..85f577a20a 100644
--- a/ext/opcache/tests/jit/bug80426.phpt
+++ b/ext/opcache/tests/jit/bug80426.phpt
@@ -1,14 +1,13 @@
 --TEST--
 Bug #80426: Crash when using JIT and an extension replacing zend_execute_ex with custom
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
-opcache.jit_buffer_size=64M
 zend_test.replace_zend_execute_ex=1
 --EXTENSIONS--
 opcache
 zend_test
 --SKIPIF--
 <?php if ((opcache_get_status()['jit']['on'] ?? false) === false) die('skip: JIT is not available'); ?>
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/bug80447.phpt b/ext/opcache/tests/jit/bug80447.phpt
index 3198aad98a..5cf1a09b5c 100644
--- a/ext/opcache/tests/jit/bug80447.phpt
+++ b/ext/opcache/tests/jit/bug80447.phpt
@@ -1,12 +1,11 @@
 --TEST--
 Bug #80447 (Strange out of memory error when running with JIT)
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/bug80634.phpt b/ext/opcache/tests/jit/bug80634.phpt
index ef0197826e..e7a1d39fae 100644
--- a/ext/opcache/tests/jit/bug80634.phpt
+++ b/ext/opcache/tests/jit/bug80634.phpt
@@ -1,26 +1,25 @@
 --TEST--
 Bug #80634 (write_property handler of internal classes is skipped on preloaded JITted code)
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 opcache.jit=function
 opcache.preload={PWD}/preload_bug80634.inc
 --EXTENSIONS--
 opcache
 --SKIPIF--
 <?php
 if (PHP_OS_FAMILY == 'Windows') die('skip Preloading is not supported on Windows');
 ?>
 --FILE--
 <?php
 $v = new SomeClass(5);
 ?>
 --EXPECTF--
 Fatal error: Uncaught Error: Cannot modify readonly property DatePeriod::$current in %spreload_bug80634.inc:7
 Stack trace:
 #0 %sbug80634.php(2): SomeClass->__construct(5)
 #1 {main}
   thrown in %spreload_bug80634.inc on line 7
diff --git a/ext/opcache/tests/jit/bug80745.phpt b/ext/opcache/tests/jit/bug80745.phpt
index 1dca89837d..f2dec43d21 100644
--- a/ext/opcache/tests/jit/bug80745.phpt
+++ b/ext/opcache/tests/jit/bug80745.phpt
@@ -1,13 +1,12 @@
 --TEST--
 Bug #80745 (JIT produces Assert failure and UNKNOWN:0 var_dumps in code involving bitshifts)
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
 opcache.jit=function
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/bug80782.phpt b/ext/opcache/tests/jit/bug80782.phpt
index f9504bcdd7..cd99a491b1 100644
--- a/ext/opcache/tests/jit/bug80782.phpt
+++ b/ext/opcache/tests/jit/bug80782.phpt
@@ -1,18 +1,17 @@
 --TEST--
 Bug #80782 (DASM_S_RANGE_VREG on PHP_INT_MIN-1)
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
 opcache.jit=tracing
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
 define('LONG_MIN', PHP_INT_MIN);
 var_dump(LONG_MIN-1);
 ?>
 --EXPECTF--
 float(%s)
diff --git a/ext/opcache/tests/jit/bug80786.phpt b/ext/opcache/tests/jit/bug80786.phpt
index 4b7845f04c..34ab6d4f3a 100644
--- a/ext/opcache/tests/jit/bug80786.phpt
+++ b/ext/opcache/tests/jit/bug80786.phpt
@@ -1,15 +1,14 @@
 --TEST--
 Bug #80786: PHP crash using JIT
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
-opcache.jit_buffer_size=64M
 opcache.jit=function
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
 
 $a = new Test();
 $a->TestFunc();
 var_dump($a->value);
diff --git a/ext/opcache/tests/jit/bug80802.phpt b/ext/opcache/tests/jit/bug80802.phpt
index 8257e0bb30..4d8a0501c6 100644
--- a/ext/opcache/tests/jit/bug80802.phpt
+++ b/ext/opcache/tests/jit/bug80802.phpt
@@ -1,11 +1,10 @@
 --TEST--
 Bug #80802: zend_jit_fetch_indirect_var assert failure with tracing JIT
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
-opcache.jit_buffer_size=64M
 opcache.jit=tracing
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/bug80839.phpt b/ext/opcache/tests/jit/bug80839.phpt
index 908aae23fa..008278f510 100644
--- a/ext/opcache/tests/jit/bug80839.phpt
+++ b/ext/opcache/tests/jit/bug80839.phpt
@@ -1,13 +1,12 @@
 --TEST--
 Bug #80839: PHP problem with JIT
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
-opcache.jit_buffer_size=64M
 opcache.jit=function
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
 $a = null; // the problem only occurs when set to NULL
 test($a, 'y');
diff --git a/ext/opcache/tests/jit/bug80861.phpt b/ext/opcache/tests/jit/bug80861.phpt
index d43e9388e0..5947c06190 100644
--- a/ext/opcache/tests/jit/bug80861.phpt
+++ b/ext/opcache/tests/jit/bug80861.phpt
@@ -1,15 +1,14 @@
 --TEST--
 Bug #80839: PHP problem with JIT
 --INI--
 error_log=
 opcache.enable=1
 opcache.enable_cli=1
-opcache.jit_buffer_size=64M
 opcache.jit=tracing
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
 declare(strict_types=1);
 
 // --------------------------------------------------------------------
diff --git a/ext/opcache/tests/jit/bug80959.phpt b/ext/opcache/tests/jit/bug80959.phpt
index 3cdcfe5a21..6fd118a042 100644
--- a/ext/opcache/tests/jit/bug80959.phpt
+++ b/ext/opcache/tests/jit/bug80959.phpt
@@ -1,11 +1,10 @@
 --TEST--
 Bug #80959: infinite loop in building cfg during JIT compilation
 --EXTENSIONS--
 opcache
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
-opcache.jit_buffer_size=64M
 opcache.jit=tracing
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/bug81051.phpt b/ext/opcache/tests/jit/bug81051.phpt
index 2246cba2bd..0f6c6da1c1 100644
--- a/ext/opcache/tests/jit/bug81051.phpt
+++ b/ext/opcache/tests/jit/bug81051.phpt
@@ -1,11 +1,10 @@
 --TEST--
 Bug #80839: PHP problem with JIT
 --EXTENSIONS--
 opcache
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
-opcache.jit_buffer_size=64M
 opcache.jit=1205
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/bug81225.phpt b/ext/opcache/tests/jit/bug81225.phpt
index be3dceae12..717f3960f3 100644
--- a/ext/opcache/tests/jit/bug81225.phpt
+++ b/ext/opcache/tests/jit/bug81225.phpt
@@ -1,13 +1,12 @@
 --TEST--
 Bug #81225: Wrong result with pow operator with JIT enabled
 --EXTENSIONS--
 opcache
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
-opcache.jit_buffer_size=64M
 opcache.jit=tracing
 --SKIPIF--
 <?php if (PHP_INT_SIZE != 8) die("skip: 64-bit only"); ?>
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/bug81225_2.phpt b/ext/opcache/tests/jit/bug81225_2.phpt
index b3411e53b9..d1a852f3ee 100644
--- a/ext/opcache/tests/jit/bug81225_2.phpt
+++ b/ext/opcache/tests/jit/bug81225_2.phpt
@@ -1,13 +1,12 @@
 --TEST--
 Bug #81225: Wrong result with pow operator with JIT enabled
 --EXTENSIONS--
 opcache
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
-opcache.jit_buffer_size=64M
 opcache.jit=function
 --SKIPIF--
 <?php if (PHP_INT_SIZE != 8) die("skip: 64-bit only"); ?>
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/bug81226.phpt b/ext/opcache/tests/jit/bug81226.phpt
index dfa9f31875..3a018129cd 100644
--- a/ext/opcache/tests/jit/bug81226.phpt
+++ b/ext/opcache/tests/jit/bug81226.phpt
@@ -1,30 +1,29 @@
 --TEST--
 Bug #81226: Integer overflow behavior is different with JIT enabled
 --EXTENSIONS--
 opcache
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
-opcache.jit_buffer_size=64M
 opcache.jit=tracing
 --SKIPIF--
 <?php if (PHP_INT_SIZE != 8) die("skip: 64-bit only"); ?>
 --FILE--
 <?php
 // 65-bit hexadecimal number
 $hex = '10000000000000041';
 
 for ($i = 0; $i < 200; ++$i) {
     $characterReferenceCode = 0;
 
     for ($j = 0, $len = strlen($hex); $j < $len; ++$j) {
         $characterReferenceCode *= 16;
         $characterReferenceCode += ord($hex[$j]) - 0x0030;
     }
 
     assert($characterReferenceCode > 0x10FFFF);
 }
 ?>
 OK
 --EXPECT--
 OK
diff --git a/ext/opcache/tests/jit/bug81249.phpt b/ext/opcache/tests/jit/bug81249.phpt
index 5a188d5806..8f42d68cce 100644
--- a/ext/opcache/tests/jit/bug81249.phpt
+++ b/ext/opcache/tests/jit/bug81249.phpt
@@ -1,15 +1,14 @@
 --TEST--
 Bug #81249: Intermittent property assignment failure with JIT enabled
 --EXTENSIONS--
 opcache
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
-opcache.jit_buffer_size=64M
 opcache.jit=tracing
 --SKIPIF--
 <?php if (PHP_INT_SIZE != 8) die("skip: 64-bit only"); ?>
 --FILE--
 <?php
 
 declare(strict_types=1);
diff --git a/ext/opcache/tests/jit/bug81255.phpt b/ext/opcache/tests/jit/bug81255.phpt
index 3fa12183d0..a11652ed90 100644
--- a/ext/opcache/tests/jit/bug81255.phpt
+++ b/ext/opcache/tests/jit/bug81255.phpt
@@ -1,12 +1,11 @@
 --TEST--
 Bug #81255: Memory leak in PHPUnit with functional JIT
 --EXTENSIONS--
 opcache
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
-opcache.jit_buffer_size=64M
 opcache.jit=function
 --FILE--
 <?php
 eval('class B {}');
diff --git a/ext/opcache/tests/jit/bug81256.phpt b/ext/opcache/tests/jit/bug81256.phpt
index 8fe80569f3..57adff5df0 100644
--- a/ext/opcache/tests/jit/bug81256.phpt
+++ b/ext/opcache/tests/jit/bug81256.phpt
@@ -1,20 +1,19 @@
 --TEST--
 Bug #81256: Assertion `zv != ((void *)0)' failed for "preload" with JIT
 --EXTENSIONS--
 opcache
 --SKIPIF--
 <?php
 if (PHP_OS_FAMILY === "Windows") die("skip Windows does not support preloading");
 ?>
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
-opcache.jit_buffer_size=64M
 opcache.jit=function
 opcache.preload={PWD}/preload_bug81256.inc
 --FILE--
 <?php
 foo();
 ?>
 --EXPECT--
 Hello
diff --git a/ext/opcache/tests/jit/bug81409.phpt b/ext/opcache/tests/jit/bug81409.phpt
index 3b44c829fc..d9501b18dd 100644
--- a/ext/opcache/tests/jit/bug81409.phpt
+++ b/ext/opcache/tests/jit/bug81409.phpt
@@ -1,11 +1,10 @@
 --TEST--
 Bug #81409: Incorrect JIT code for ADD with a reference to array
 --EXTENSIONS--
 opcache
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
-opcache.jit_buffer_size=64M
 opcache.jit=tracing
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/bug81512.phpt b/ext/opcache/tests/jit/bug81512.phpt
index 749b482644..4d0ccf72f9 100644
--- a/ext/opcache/tests/jit/bug81512.phpt
+++ b/ext/opcache/tests/jit/bug81512.phpt
@@ -1,17 +1,16 @@
 --TEST--
 Bug #81512: Unexpected behavior with arrays and JIT
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 $pipe = [['val1'],['val2'],];
 
 for ($i = 0; $i < 30; ++$i) {
         echo "$i ";
         if (!is_pipeline($pipe)) {
                 echo 'ERROR ';
         }
 }
diff --git a/ext/opcache/tests/jit/bw_not_001.phpt b/ext/opcache/tests/jit/bw_not_001.phpt
index 42b964fcd1..125cc8a1f1 100644
--- a/ext/opcache/tests/jit/bw_not_001.phpt
+++ b/ext/opcache/tests/jit/bw_not_001.phpt
@@ -1,20 +1,19 @@
 --TEST--
 JIT BW_NOT: 001 Incorrect refcounting inference
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --FILE--
 <?php
 $x[~"$x"]*=1;
 ?>
 DONE
 --EXPECTF--
 Warning: Undefined variable $x in %sbw_not_001.php on line 2
 
 Warning: Undefined variable $x in %sbw_not_001.php on line 2
 
 Warning: Undefined array key "" in %sbw_not_001.php on line 2
 DONE
\ No newline at end of file
diff --git a/ext/opcache/tests/jit/bw_not_002.phpt b/ext/opcache/tests/jit/bw_not_002.phpt
index 7dc3753d47..b55534ace5 100644
--- a/ext/opcache/tests/jit/bw_not_002.phpt
+++ b/ext/opcache/tests/jit/bw_not_002.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT BW_NOT: 002 Exception handling
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/call_chain_exit.phpt b/ext/opcache/tests/jit/call_chain_exit.phpt
index d1b520df5a..004985413b 100644
--- a/ext/opcache/tests/jit/call_chain_exit.phpt
+++ b/ext/opcache/tests/jit/call_chain_exit.phpt
@@ -1,12 +1,11 @@
 --TEST--
 Exit in argument list
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 var_dump(exit);
 ?>
 --EXPECT--
diff --git a/ext/opcache/tests/jit/cast_001.phpt b/ext/opcache/tests/jit/cast_001.phpt
index cf4e6403f2..3fb587e97e 100644
--- a/ext/opcache/tests/jit/cast_001.phpt
+++ b/ext/opcache/tests/jit/cast_001.phpt
@@ -1,13 +1,12 @@
 --TEST--
 JIT CAST: 001
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.jit=1205
 ;opcache.jit_debug=1
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/cast_002.phpt b/ext/opcache/tests/jit/cast_002.phpt
index cef5b69b6e..2a15e675a3 100644
--- a/ext/opcache/tests/jit/cast_002.phpt
+++ b/ext/opcache/tests/jit/cast_002.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT CAST: 002
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 function test(?int $i) {
diff --git a/ext/opcache/tests/jit/closure_001.phpt b/ext/opcache/tests/jit/closure_001.phpt
index 3e47d016d8..073115af0a 100644
--- a/ext/opcache/tests/jit/closure_001.phpt
+++ b/ext/opcache/tests/jit/closure_001.phpt
@@ -1,13 +1,12 @@
 --TEST--
 Closures should be always called with ZEND_ACC_CLOSURE flag set 
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=1M
 opcache.protect_memory=1
 opcache.jit_hot_func=2
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/cmp_001.phpt b/ext/opcache/tests/jit/cmp_001.phpt
index 79f7da63ef..03c9a2dbe1 100644
--- a/ext/opcache/tests/jit/cmp_001.phpt
+++ b/ext/opcache/tests/jit/cmp_001.phpt
@@ -1,24 +1,23 @@
 --TEST--
 JIT CMP: 001
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
 $a = 0;
 $b = 0.0;
 var_dump($a < $b);
 var_dump($a > $b);
 var_dump($a <= $b);
 var_dump($a >= $b);
 ?>
 --EXPECT--
 bool(false)
 bool(false)
 bool(true)
 bool(true)
diff --git a/ext/opcache/tests/jit/cmp_002.phpt b/ext/opcache/tests/jit/cmp_002.phpt
index 6f880bd6e8..2686a85513 100644
--- a/ext/opcache/tests/jit/cmp_002.phpt
+++ b/ext/opcache/tests/jit/cmp_002.phpt
@@ -1,24 +1,23 @@
 --TEST--
 JIT CMP: 001
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
 $a = 0;
 $b = 0.0;
 var_dump($a < $b ? 1 : 0);
 var_dump($a > $b ? 1 : 0);
 var_dump($a <= $b ? 1 : 0);
 var_dump($a >= $b ? 1 : 0);
 ?>
 --EXPECT--
 int(0)
 int(0)
 int(1)
 int(1)
diff --git a/ext/opcache/tests/jit/cmp_003.phpt b/ext/opcache/tests/jit/cmp_003.phpt
index d08245e723..6bd6435dda 100644
--- a/ext/opcache/tests/jit/cmp_003.phpt
+++ b/ext/opcache/tests/jit/cmp_003.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT CMP: 003 Comparison with NaN
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/cmp_004.phpt b/ext/opcache/tests/jit/cmp_004.phpt
index 3c9fb7a31b..3a210b862d 100644
--- a/ext/opcache/tests/jit/cmp_004.phpt
+++ b/ext/opcache/tests/jit/cmp_004.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT CMP: 004 Comparisons inside conditional statement
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/cmp_005.phpt b/ext/opcache/tests/jit/cmp_005.phpt
index 1c104541b1..7c797e23cc 100644
--- a/ext/opcache/tests/jit/cmp_005.phpt
+++ b/ext/opcache/tests/jit/cmp_005.phpt
@@ -1,15 +1,14 @@
 --TEST--
 JIT CMP: 005 Comparisons with immediate values
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --EXTENSIONS--
 opcache
 --SKIPIF--
 <?php
 if (PHP_INT_SIZE != 8) die("skip: 64-bit only"); ?>
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/cmp_006.phpt b/ext/opcache/tests/jit/cmp_006.phpt
index a2dfb556e1..b297ebd9c1 100644
--- a/ext/opcache/tests/jit/cmp_006.phpt
+++ b/ext/opcache/tests/jit/cmp_006.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT CMP: 006 Undefined variable checks
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/cmp_007.phpt b/ext/opcache/tests/jit/cmp_007.phpt
index 3eed2363cb..7b7ef81613 100644
--- a/ext/opcache/tests/jit/cmp_007.phpt
+++ b/ext/opcache/tests/jit/cmp_007.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT CMP: 007 Wrong comparison skip
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/cmp_008.phpt b/ext/opcache/tests/jit/cmp_008.phpt
index fd0f8d519a..98928c5844 100644
--- a/ext/opcache/tests/jit/cmp_008.phpt
+++ b/ext/opcache/tests/jit/cmp_008.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT CMP: 008 Wrong range inference for comparison between IS_LONG and IS_FALSE/IS_TRUE
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/cmp_009.phpt b/ext/opcache/tests/jit/cmp_009.phpt
index 89f52619ff..75f54e3c3c 100644
--- a/ext/opcache/tests/jit/cmp_009.phpt
+++ b/ext/opcache/tests/jit/cmp_009.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT CMP: 009 Wrong code generation for dead compare
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=1M
 --FILE--
 <?php
 function test() {
diff --git a/ext/opcache/tests/jit/concat_001.phpt b/ext/opcache/tests/jit/concat_001.phpt
index 7ca2f5b122..9e54e7320f 100644
--- a/ext/opcache/tests/jit/concat_001.phpt
+++ b/ext/opcache/tests/jit/concat_001.phpt
@@ -1,13 +1,12 @@
 --TEST--
 JIT CONCAT: 001
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/const_001.phpt b/ext/opcache/tests/jit/const_001.phpt
index 0346702104..c009d0001f 100644
--- a/ext/opcache/tests/jit/const_001.phpt
+++ b/ext/opcache/tests/jit/const_001.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT CONST: defined
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/copy_tmp_001.phpt b/ext/opcache/tests/jit/copy_tmp_001.phpt
index f1add582c7..fa92b6ba21 100644
--- a/ext/opcache/tests/jit/copy_tmp_001.phpt
+++ b/ext/opcache/tests/jit/copy_tmp_001.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT COPY_TMP: 001
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/copy_tmp_002.phpt b/ext/opcache/tests/jit/copy_tmp_002.phpt
index 9931bddf3e..01b87b4187 100644
--- a/ext/opcache/tests/jit/copy_tmp_002.phpt
+++ b/ext/opcache/tests/jit/copy_tmp_002.phpt
@@ -1,15 +1,14 @@
 --TEST--
 JIT COPY_TMP: 002
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --FILE--
 <?php
 $x[~"abc"] ??= 0;
 ?>
 DONE
 --EXPECT--
 DONE
\ No newline at end of file
diff --git a/ext/opcache/tests/jit/count_001.phpt b/ext/opcache/tests/jit/count_001.phpt
index ca9ec66fb5..2fb1c52d28 100644
--- a/ext/opcache/tests/jit/count_001.phpt
+++ b/ext/opcache/tests/jit/count_001.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT COUNT: 001
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 ;opcache.jit_debug=1
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/defined_001.phpt b/ext/opcache/tests/jit/defined_001.phpt
index 6c474f4c0c..5b64fa6309 100644
--- a/ext/opcache/tests/jit/defined_001.phpt
+++ b/ext/opcache/tests/jit/defined_001.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT DEFINED: 001
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.jit=1235
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/fe_reset_001.phpt b/ext/opcache/tests/jit/fe_reset_001.phpt
index 5ae7aebc4b..fcd1d18ada 100644
--- a/ext/opcache/tests/jit/fe_reset_001.phpt
+++ b/ext/opcache/tests/jit/fe_reset_001.phpt
@@ -1,37 +1,36 @@
 --TEST--
 FE_RESET: 001 undef $$ operand
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 for ($i = 0; $i < 5; $i++) {
     for ($j = 0; $j < $i; $j++) {}
     foreach ($$i as $x) {}
 }
 ?>
 OK
 --EXPECTF--
 Warning: Undefined variable $0 in %sfe_reset_001.php on line 4
 
 Warning: foreach() argument must be of type array|object, null given in %sfe_reset_001.php on line 4
 
 Warning: Undefined variable $1 in %sfe_reset_001.php on line 4
 
 Warning: foreach() argument must be of type array|object, null given in %sfe_reset_001.php on line 4
 
 Warning: Undefined variable $2 in %sfe_reset_001.php on line 4
 
 Warning: foreach() argument must be of type array|object, null given in %sfe_reset_001.php on line 4
 
 Warning: Undefined variable $3 in %sfe_reset_001.php on line 4
 
 Warning: foreach() argument must be of type array|object, null given in %sfe_reset_001.php on line 4
 
 Warning: Undefined variable $4 in %sfe_reset_001.php on line 4
 
 Warning: foreach() argument must be of type array|object, null given in %sfe_reset_001.php on line 4
 OK
 
diff --git a/ext/opcache/tests/jit/fe_reset_undef.phpt b/ext/opcache/tests/jit/fe_reset_undef.phpt
index cdedf7f61a..f204bdca5e 100644
--- a/ext/opcache/tests/jit/fe_reset_undef.phpt
+++ b/ext/opcache/tests/jit/fe_reset_undef.phpt
@@ -1,10 +1,9 @@
 --TEST--
 FE_RESET with potentially undef operand
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 function test($c) {
diff --git a/ext/opcache/tests/jit/fetch_dim_func_arg_002.phpt b/ext/opcache/tests/jit/fetch_dim_func_arg_002.phpt
index 74ff78fccb..e0b79d9adc 100644
--- a/ext/opcache/tests/jit/fetch_dim_func_arg_002.phpt
+++ b/ext/opcache/tests/jit/fetch_dim_func_arg_002.phpt
@@ -1,18 +1,17 @@
 --TEST--
 JIT FETCH_DIM_FUNC_ARG: 002
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
 new class(true[""]) {
 }
 ?>
 DONE
 --EXPECTF--
 Warning: Trying to access array offset on true in %sfetch_dim_func_arg_002.php on line 2
 DONE
diff --git a/ext/opcache/tests/jit/fetch_dim_func_args_001.phpt b/ext/opcache/tests/jit/fetch_dim_func_args_001.phpt
index ed93c6ac07..421870d692 100644
--- a/ext/opcache/tests/jit/fetch_dim_func_args_001.phpt
+++ b/ext/opcache/tests/jit/fetch_dim_func_args_001.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT FETCH_DIM_FUNC_ARG: 001
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
 namespace A;
diff --git a/ext/opcache/tests/jit/fetch_dim_is_001.phpt b/ext/opcache/tests/jit/fetch_dim_is_001.phpt
index a8ab9ef7e4..8454471c16 100644
--- a/ext/opcache/tests/jit/fetch_dim_is_001.phpt
+++ b/ext/opcache/tests/jit/fetch_dim_is_001.phpt
@@ -1,16 +1,15 @@
 --TEST--
 JIT FETCH_DIM_IS: 001
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=1M
 --FILE--
 <?php
 const A = [1];
 A[-1][2]??$y;
 ?>
 DONE
 --EXPECTF--
 Warning: Undefined variable $y in %sfetch_dim_is_001.php on line 3
 DONE
diff --git a/ext/opcache/tests/jit/fetch_dim_r_001.phpt b/ext/opcache/tests/jit/fetch_dim_r_001.phpt
index 1d2923debb..3ff56263db 100644
--- a/ext/opcache/tests/jit/fetch_dim_r_001.phpt
+++ b/ext/opcache/tests/jit/fetch_dim_r_001.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT FETCH_DIM_R: 001
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/fetch_dim_r_002.phpt b/ext/opcache/tests/jit/fetch_dim_r_002.phpt
index a275ab78e8..fb7471d7a2 100644
--- a/ext/opcache/tests/jit/fetch_dim_r_002.phpt
+++ b/ext/opcache/tests/jit/fetch_dim_r_002.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT FETCH_DIM_R: 002
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/fetch_dim_r_003.phpt b/ext/opcache/tests/jit/fetch_dim_r_003.phpt
index 14415b2074..43c216026b 100644
--- a/ext/opcache/tests/jit/fetch_dim_r_003.phpt
+++ b/ext/opcache/tests/jit/fetch_dim_r_003.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT FETCH_DIM_R: 003
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/fetch_dim_r_004.phpt b/ext/opcache/tests/jit/fetch_dim_r_004.phpt
index b982638253..d0a25de793 100644
--- a/ext/opcache/tests/jit/fetch_dim_r_004.phpt
+++ b/ext/opcache/tests/jit/fetch_dim_r_004.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT FETCH_DIM_R: 004
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/fetch_dim_r_005.phpt b/ext/opcache/tests/jit/fetch_dim_r_005.phpt
index 8c78509e7c..b4e5f17f52 100644
--- a/ext/opcache/tests/jit/fetch_dim_r_005.phpt
+++ b/ext/opcache/tests/jit/fetch_dim_r_005.phpt
@@ -1,40 +1,39 @@
 --TEST--
 JIT FETCH_DIM_R: 005
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.jit=tracing
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
 $gens = [];
 for ($i = 0; $i < 5; $i++) {
     $gens[] = $gens[-1];
 }
 var_dump($gens);
 ?>
 --EXPECTF--
 Warning: Undefined array key -1 in %sfetch_dim_r_005.php on line 4
 
 Warning: Undefined array key -1 in %sfetch_dim_r_005.php on line 4
 
 Warning: Undefined array key -1 in %sfetch_dim_r_005.php on line 4
 
 Warning: Undefined array key -1 in %sfetch_dim_r_005.php on line 4
 
 Warning: Undefined array key -1 in %sfetch_dim_r_005.php on line 4
 array(5) {
   [0]=>
   NULL
   [1]=>
   NULL
   [2]=>
   NULL
   [3]=>
   NULL
   [4]=>
   NULL
 }
diff --git a/ext/opcache/tests/jit/fetch_dim_r_006.phpt b/ext/opcache/tests/jit/fetch_dim_r_006.phpt
index ed0182ab2b..18250aa822 100644
--- a/ext/opcache/tests/jit/fetch_dim_r_006.phpt
+++ b/ext/opcache/tests/jit/fetch_dim_r_006.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT FETCH_DIM_R: 006
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 function test() {
diff --git a/ext/opcache/tests/jit/fetch_dim_r_007.phpt b/ext/opcache/tests/jit/fetch_dim_r_007.phpt
index 29838f24b4..fd451f8f48 100644
--- a/ext/opcache/tests/jit/fetch_dim_r_007.phpt
+++ b/ext/opcache/tests/jit/fetch_dim_r_007.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT FETCH_DIM_R: 007
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 function &test() {
diff --git a/ext/opcache/tests/jit/fetch_dim_r_008.phpt b/ext/opcache/tests/jit/fetch_dim_r_008.phpt
index 837bd512e8..bb5b8b43de 100644
--- a/ext/opcache/tests/jit/fetch_dim_r_008.phpt
+++ b/ext/opcache/tests/jit/fetch_dim_r_008.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT FETCH_DIM_R: 008
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 function &test() { return $x; }
diff --git a/ext/opcache/tests/jit/fetch_dim_r_009.phpt b/ext/opcache/tests/jit/fetch_dim_r_009.phpt
index 81c71d1d8a..90f5ca9f52 100644
--- a/ext/opcache/tests/jit/fetch_dim_r_009.phpt
+++ b/ext/opcache/tests/jit/fetch_dim_r_009.phpt
@@ -1,22 +1,21 @@
 --TEST--
 JIT FETCH_DIM_R: 009
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 $ary = [[0]];
 for ($i = 2; $i < 5; $i++) {
     var_dump($ary[0][$i>>1]);
     $ary[0][$i] = 1;
 }
 ?>
 --EXPECTF--
 Warning: Undefined array key 1 in %sfetch_dim_r_009.php on line 4
 NULL
 
 Warning: Undefined array key 1 in %sfetch_dim_r_009.php on line 4
 NULL
 int(1)
diff --git a/ext/opcache/tests/jit/fetch_dim_r_010.phpt b/ext/opcache/tests/jit/fetch_dim_r_010.phpt
index 3bec23930a..b46e9b0a7d 100644
--- a/ext/opcache/tests/jit/fetch_dim_r_010.phpt
+++ b/ext/opcache/tests/jit/fetch_dim_r_010.phpt
@@ -1,18 +1,17 @@
 --TEST--
 JIT FETCH_DIM_R: 010
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 set_error_handler(function() {
     $GLOBALS['a'] = 0;
 });
 $a = [$y];
 ($a[$b]);
 ?>
 DONE
 --EXPECT--
 DONE
diff --git a/ext/opcache/tests/jit/fetch_dim_r_011.phpt b/ext/opcache/tests/jit/fetch_dim_r_011.phpt
index b8c976faa0..0257782f83 100644
--- a/ext/opcache/tests/jit/fetch_dim_r_011.phpt
+++ b/ext/opcache/tests/jit/fetch_dim_r_011.phpt
@@ -1,18 +1,17 @@
 --TEST--
 JIT FETCH_DIM_R: 011
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 set_error_handler(function() {
     $GLOBALS['a'] = 0;
 });
 $a = [$y];
 ($a[17604692317316877817]);
 ?>
 DONE
 --EXPECT--
 DONE
diff --git a/ext/opcache/tests/jit/fetch_dim_r_012.phpt b/ext/opcache/tests/jit/fetch_dim_r_012.phpt
index 97de008e86..a7cf99d20d 100644
--- a/ext/opcache/tests/jit/fetch_dim_r_012.phpt
+++ b/ext/opcache/tests/jit/fetch_dim_r_012.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT FETCH_DIM_R: 012
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 function foo() {
diff --git a/ext/opcache/tests/jit/fetch_dim_r_013.phpt b/ext/opcache/tests/jit/fetch_dim_r_013.phpt
index a4dcd5ebb2..053234c5da 100644
--- a/ext/opcache/tests/jit/fetch_dim_r_013.phpt
+++ b/ext/opcache/tests/jit/fetch_dim_r_013.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT FETCH_DIM_R: 013
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 function foo() {
diff --git a/ext/opcache/tests/jit/fetch_dim_r_014.phpt b/ext/opcache/tests/jit/fetch_dim_r_014.phpt
index 3e140ef517..507531c637 100644
--- a/ext/opcache/tests/jit/fetch_dim_r_014.phpt
+++ b/ext/opcache/tests/jit/fetch_dim_r_014.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT FETCH_DIM_R: 014
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 function foo() {
diff --git a/ext/opcache/tests/jit/fetch_dim_r_015.phpt b/ext/opcache/tests/jit/fetch_dim_r_015.phpt
index 37371a9ee4..8a77303d02 100644
--- a/ext/opcache/tests/jit/fetch_dim_r_015.phpt
+++ b/ext/opcache/tests/jit/fetch_dim_r_015.phpt
@@ -1,15 +1,14 @@
 --TEST--
 JIT FETCH_DIM_R: 015
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=1M
 --FILE--
 <?php
 array(1, "" => 4)[-1];
 ?>
 DONE
 --EXPECTF--
 Warning: Undefined array key -1 in %sfetch_dim_r_015.php on line 2
 DONE
diff --git a/ext/opcache/tests/jit/fetch_dim_r_016.phpt b/ext/opcache/tests/jit/fetch_dim_r_016.phpt
index eb3e6eab36..2db8a32a95 100644
--- a/ext/opcache/tests/jit/fetch_dim_r_016.phpt
+++ b/ext/opcache/tests/jit/fetch_dim_r_016.phpt
@@ -1,15 +1,14 @@
 --TEST--
 JIT FETCH_DIM_R: 016
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=1M
 --FILE--
 <?php
 [4][-1];
 ?>
 DONE
 --EXPECTF--
 Warning: Undefined array key -1 in %sfetch_dim_r_016.php on line 2
 DONE
diff --git a/ext/opcache/tests/jit/fetch_dim_r_017.phpt b/ext/opcache/tests/jit/fetch_dim_r_017.phpt
index 9a8fdb7057..a48e3b2ab3 100644
--- a/ext/opcache/tests/jit/fetch_dim_r_017.phpt
+++ b/ext/opcache/tests/jit/fetch_dim_r_017.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT FETCH_DIM_R: 017
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=1M
 --FILE--
 <?php
 function test() {
diff --git a/ext/opcache/tests/jit/fetch_dim_rw_001.phpt b/ext/opcache/tests/jit/fetch_dim_rw_001.phpt
index dc341d1fe7..9362c4407b 100644
--- a/ext/opcache/tests/jit/fetch_dim_rw_001.phpt
+++ b/ext/opcache/tests/jit/fetch_dim_rw_001.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT FETCH_DIM_RW: 001
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/fetch_dim_rw_002.phpt b/ext/opcache/tests/jit/fetch_dim_rw_002.phpt
index 8e29a8f226..068b90e6a2 100644
--- a/ext/opcache/tests/jit/fetch_dim_rw_002.phpt
+++ b/ext/opcache/tests/jit/fetch_dim_rw_002.phpt
@@ -1,17 +1,16 @@
 --TEST--
 JIT FETCH_DIM_RW: 002
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 $a = [];
 $k = "0";
 $a[$k]++;
 var_dump($a[$k]);
 ?>
 --EXPECTF--
 Warning: Undefined array key 0 in %sfetch_dim_rw_002.php on line 4
 int(1)
diff --git a/ext/opcache/tests/jit/fetch_dim_rw_004.phpt b/ext/opcache/tests/jit/fetch_dim_rw_004.phpt
index 07616a3025..f1a1073760 100644
--- a/ext/opcache/tests/jit/fetch_dim_rw_004.phpt
+++ b/ext/opcache/tests/jit/fetch_dim_rw_004.phpt
@@ -1,24 +1,23 @@
 --TEST--
 JIT FETCH_DIM_RW: 004
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 set_error_handler(function(y$y) {
 });
 $k=[];
 $y[$k]++;
 ?>
 --EXPECTF--
 Fatal error: Uncaught TypeError: {closure}(): Argument #1 ($y) must be of type y, int given, called in %sfetch_dim_rw_004.php:2
 Stack trace:
 #0 %sfetch_dim_rw_004.php(5): {closure}(2, 'Undefined varia...', '%s', 5)
 #1 {main}
 
 Next TypeError: Cannot access offset of type array on array in %sfetch_dim_rw_004.php:5
 Stack trace:
 #0 {main}
   thrown in %sfetch_dim_rw_004.php on line 5
diff --git a/ext/opcache/tests/jit/fetch_dim_w_001.phpt b/ext/opcache/tests/jit/fetch_dim_w_001.phpt
index e260cf8ac5..5da92cc3c4 100644
--- a/ext/opcache/tests/jit/fetch_dim_w_001.phpt
+++ b/ext/opcache/tests/jit/fetch_dim_w_001.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT FETCH_DIM_W: 001
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 function &foo() {
diff --git a/ext/opcache/tests/jit/fetch_dim_w_002.phpt b/ext/opcache/tests/jit/fetch_dim_w_002.phpt
index 05e3480154..38e8b1731e 100644
--- a/ext/opcache/tests/jit/fetch_dim_w_002.phpt
+++ b/ext/opcache/tests/jit/fetch_dim_w_002.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT FETCH_DIM_W: 002
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 function test() {
diff --git a/ext/opcache/tests/jit/fetch_dim_w_003.phpt b/ext/opcache/tests/jit/fetch_dim_w_003.phpt
index 55ba62ebf8..8227b7cf3e 100644
--- a/ext/opcache/tests/jit/fetch_dim_w_003.phpt
+++ b/ext/opcache/tests/jit/fetch_dim_w_003.phpt
@@ -1,17 +1,16 @@
 --TEST--
 JIT FETCH_DIM_W: 003
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 set_error_handler(function() {
     $GLOBALS['a']='';
 });
 $a[3E44]='';
 ?>
 DONE
 --EXPECT--
 DONE
diff --git a/ext/opcache/tests/jit/fetch_dim_w_004.phpt b/ext/opcache/tests/jit/fetch_dim_w_004.phpt
index 43fbbb45ca..b14e9d63b4 100644
--- a/ext/opcache/tests/jit/fetch_dim_w_004.phpt
+++ b/ext/opcache/tests/jit/fetch_dim_w_004.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT FETCH_DIM_W: 004
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=1M
 --FILE--
 <?php
 function create_references(&$array) {
diff --git a/ext/opcache/tests/jit/fetch_list_r_001.phpt b/ext/opcache/tests/jit/fetch_list_r_001.phpt
index fa1d12bd93..ec93b305ff 100644
--- a/ext/opcache/tests/jit/fetch_list_r_001.phpt
+++ b/ext/opcache/tests/jit/fetch_list_r_001.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT FETCH_LIST_R: 001
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 function test() {
diff --git a/ext/opcache/tests/jit/fetch_obj_001.phpt b/ext/opcache/tests/jit/fetch_obj_001.phpt
index 1375db67fb..0f68c1aae0 100644
--- a/ext/opcache/tests/jit/fetch_obj_001.phpt
+++ b/ext/opcache/tests/jit/fetch_obj_001.phpt
@@ -1,11 +1,10 @@
 --TEST--
 JIT: FETCH_OBJ
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/fetch_obj_002.phpt b/ext/opcache/tests/jit/fetch_obj_002.phpt
index 904afe0f65..6606e9a5c1 100644
--- a/ext/opcache/tests/jit/fetch_obj_002.phpt
+++ b/ext/opcache/tests/jit/fetch_obj_002.phpt
@@ -1,11 +1,10 @@
 --TEST--
 JIT: FETCH_OBJ 002
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/fetch_obj_003.phpt b/ext/opcache/tests/jit/fetch_obj_003.phpt
index ca4b073927..8ccc673b6a 100644
--- a/ext/opcache/tests/jit/fetch_obj_003.phpt
+++ b/ext/opcache/tests/jit/fetch_obj_003.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT: FETCH_OBJ 003
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
 #[ALlowDynamicProperties]
diff --git a/ext/opcache/tests/jit/fetch_obj_004.phpt b/ext/opcache/tests/jit/fetch_obj_004.phpt
index 2e994b3929..28f3b74367 100644
--- a/ext/opcache/tests/jit/fetch_obj_004.phpt
+++ b/ext/opcache/tests/jit/fetch_obj_004.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT: FETCH_OBJ 004
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
 #[AllowDynamicProperties]
diff --git a/ext/opcache/tests/jit/fetch_obj_005.phpt b/ext/opcache/tests/jit/fetch_obj_005.phpt
index 0b2fb69e2a..2084269bf4 100644
--- a/ext/opcache/tests/jit/fetch_obj_005.phpt
+++ b/ext/opcache/tests/jit/fetch_obj_005.phpt
@@ -1,23 +1,22 @@
 --TEST--
 JIT: FETCH_OBJ 005
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.jit=tracing
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
 for ($i = 0; $i < 3; $i++) {
 	$a =& $b;
 	$a->p;
 }
 ?>
 --EXPECTF--
 Warning: Attempt to read property "p" on null in %sfetch_obj_005.php on line 4
 
 Warning: Attempt to read property "p" on null in %sfetch_obj_005.php on line 4
 
 Warning: Attempt to read property "p" on null in %sfetch_obj_005.php on line 4
\ No newline at end of file
diff --git a/ext/opcache/tests/jit/fetch_obj_006.phpt b/ext/opcache/tests/jit/fetch_obj_006.phpt
index ce5efd12de..0b02c405f9 100644
--- a/ext/opcache/tests/jit/fetch_obj_006.phpt
+++ b/ext/opcache/tests/jit/fetch_obj_006.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT: FETCH_OBJ 006
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 class Test {
diff --git a/ext/opcache/tests/jit/fetch_obj_007.phpt b/ext/opcache/tests/jit/fetch_obj_007.phpt
index c641b49c6c..68bdadf298 100644
--- a/ext/opcache/tests/jit/fetch_obj_007.phpt
+++ b/ext/opcache/tests/jit/fetch_obj_007.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT: FETCH_OBJ 007
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 class C {
diff --git a/ext/opcache/tests/jit/fetch_obj_008.phpt b/ext/opcache/tests/jit/fetch_obj_008.phpt
index 98455ce3d8..69d3753a2e 100644
--- a/ext/opcache/tests/jit/fetch_obj_008.phpt
+++ b/ext/opcache/tests/jit/fetch_obj_008.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT: FETCH_OBJ 008
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 class A {
diff --git a/ext/opcache/tests/jit/fetch_obj_009.phpt b/ext/opcache/tests/jit/fetch_obj_009.phpt
index 2b0c8af84f..1ab356c4b5 100644
--- a/ext/opcache/tests/jit/fetch_obj_009.phpt
+++ b/ext/opcache/tests/jit/fetch_obj_009.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT: FETCH_OBJ 009
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 function test() {
diff --git a/ext/opcache/tests/jit/fetch_obj_010.phpt b/ext/opcache/tests/jit/fetch_obj_010.phpt
index 9c057e4161..50981cab38 100644
--- a/ext/opcache/tests/jit/fetch_obj_010.phpt
+++ b/ext/opcache/tests/jit/fetch_obj_010.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT: FETCH_OBJ 010
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 function foo() {
diff --git a/ext/opcache/tests/jit/fetch_obj_is_typed_prop.phpt b/ext/opcache/tests/jit/fetch_obj_is_typed_prop.phpt
index 2570149c84..d6f1db6ec5 100644
--- a/ext/opcache/tests/jit/fetch_obj_is_typed_prop.phpt
+++ b/ext/opcache/tests/jit/fetch_obj_is_typed_prop.phpt
@@ -1,10 +1,9 @@
 --TEST--
 FETCH_OBJ_IS on typed object property
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 
diff --git a/ext/opcache/tests/jit/fetch_r_001.phpt b/ext/opcache/tests/jit/fetch_r_001.phpt
index 185d450f4e..c5b4011392 100644
--- a/ext/opcache/tests/jit/fetch_r_001.phpt
+++ b/ext/opcache/tests/jit/fetch_r_001.phpt
@@ -1,16 +1,15 @@
 --TEST--
 FETCH_R: 001 result reference counter may be decremented before use
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 $x = [&$v];
 $y = 'x';
 $$y == [&$x[0]];
 ?>
 DONE
 --EXPECT--
 DONE
diff --git a/ext/opcache/tests/jit/fetch_static_prop_001.phpt b/ext/opcache/tests/jit/fetch_static_prop_001.phpt
index 1567a85396..c48c07c573 100644
--- a/ext/opcache/tests/jit/fetch_static_prop_001.phpt
+++ b/ext/opcache/tests/jit/fetch_static_prop_001.phpt
@@ -1,10 +1,9 @@
 --TEST--
 FETCH_STATIC_PROP_W should not return UNDEF
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 class F {
diff --git a/ext/opcache/tests/jit/gh10271.phpt b/ext/opcache/tests/jit/gh10271.phpt
index 638e2c1dc9..f75eb0642b 100644
--- a/ext/opcache/tests/jit/gh10271.phpt
+++ b/ext/opcache/tests/jit/gh10271.phpt
@@ -1,29 +1,28 @@
 --TEST--
 GH-10271: Incorrect arithmetic calculations when using JIT
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.jit_hot_loop=1
 --FILE--
 <?php
 $tang['KSI']=-9.1751656444142E-5;
 $tang['ETA']=8.5076090069491E-5;
 
 $sol['X']['k']=-222.45470924306;
 $sol['X']['e']=-8.1787760034414;
 $sol['X'][1]=-0.020231298698539;
 
 $sol['Y']['k']=-14.400586941152;
 $sol['Y']['e']=392.95090925357;
 $sol['Y'][1]=-0.035664413413272;
 
 $sol['xc']=968;
 $sol['yc']=548;
 
 for( $p=0; $p<3; $p++ )
 {
 	print($p.': ');
 	Tangential2XY($tang,$sol);
 }
diff --git a/ext/opcache/tests/jit/gh10635.phpt b/ext/opcache/tests/jit/gh10635.phpt
index 115b5ed008..012c6a2efe 100644
--- a/ext/opcache/tests/jit/gh10635.phpt
+++ b/ext/opcache/tests/jit/gh10635.phpt
@@ -1,10 +1,9 @@
 --TEST--
 GH-10635: Function JIT causes impossible assertion
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 trait T {
diff --git a/ext/opcache/tests/jit/gh12380.phpt b/ext/opcache/tests/jit/gh12380.phpt
index 934a38d6d5..a14e4c9e11 100644
--- a/ext/opcache/tests/jit/gh12380.phpt
+++ b/ext/opcache/tests/jit/gh12380.phpt
@@ -1,17 +1,16 @@
 --TEST--
 GH-12380: JIT+private array property access inside closure accesses private property in child class
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 opcache.jit=tracing
 opcache.jit_hot_loop=1
 opcache.jit_hot_func=1
 opcache.jit_hot_return=1
 opcache.jit_hot_side_exit=1
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/gh8030-001.phpt b/ext/opcache/tests/jit/gh8030-001.phpt
index 968522d11d..18f39faaa5 100644
--- a/ext/opcache/tests/jit/gh8030-001.phpt
+++ b/ext/opcache/tests/jit/gh8030-001.phpt
@@ -1,14 +1,13 @@
 --TEST--
 GH-8030: Segfault with JIT and large match/switch statements 001
 --EXTENSIONS--
 opcache
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
-opcache.jit_buffer_size=64M
 opcache.jit=1255
 opcache.file_update_protection=0
 opcache.revalidate_freq=0
 opcache.protect_memory=1
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/gh8030-002.phpt b/ext/opcache/tests/jit/gh8030-002.phpt
index a8bd2fe791..27fd6a6326 100644
--- a/ext/opcache/tests/jit/gh8030-002.phpt
+++ b/ext/opcache/tests/jit/gh8030-002.phpt
@@ -1,14 +1,13 @@
 --TEST--
 GH-8030: Segfault with JIT and large match/switch statements 002
 --EXTENSIONS--
 opcache
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
-opcache.jit_buffer_size=64M
 opcache.jit=1255
 opcache.file_update_protection=0
 opcache.revalidate_freq=0
 opcache.protect_memory=1
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/gh8461-001.phpt b/ext/opcache/tests/jit/gh8461-001.phpt
index 799041f25d..580ecc6b57 100644
--- a/ext/opcache/tests/jit/gh8461-001.phpt
+++ b/ext/opcache/tests/jit/gh8461-001.phpt
@@ -1,19 +1,18 @@
 --TEST--
 Bug GH-8461 001 (JIT does not account for class re-compile)
 --EXTENSIONS--
 opcache
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
-opcache.jit_buffer_size=64M
 opcache.jit=1255
 opcache.file_update_protection=0
 opcache.revalidate_freq=0
 opcache.protect_memory=1
 --FILE--
 <?php
 
 // Checks that JITed code does not crash in --repeat 2 after the UniqueList
 // class is recompiled.
 
 require __DIR__ . '/gh8461-001.inc';
diff --git a/ext/opcache/tests/jit/gh8461-002.phpt b/ext/opcache/tests/jit/gh8461-002.phpt
index 5be5610566..926dabe5dc 100644
--- a/ext/opcache/tests/jit/gh8461-002.phpt
+++ b/ext/opcache/tests/jit/gh8461-002.phpt
@@ -1,31 +1,30 @@
 --TEST--
 Bug GH-8461 002 (JIT does not account for class re-compile)
 --EXTENSIONS--
 opcache
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
-opcache.jit_buffer_size=64M
 opcache.jit=1255
 opcache.file_update_protection=0
 opcache.revalidate_freq=0
 opcache.protect_memory=1
 --FILE--
 <?php
 
 // Checks that JITed code does not crash in --repeat 2 after the UniqueList
 // class is recompiled.
 
 require __DIR__ . '/gh8461-002.inc';
 
 for ($i = 0; $i < 10; $i++) {
     UniqueList::foo();
 }
 
 // mark the file as changed (important)
 touch(__DIR__ . '/gh8461-002.inc');
 
 print "OK";
 ?>
 --EXPECT--
 OK
diff --git a/ext/opcache/tests/jit/gh8461-003.phpt b/ext/opcache/tests/jit/gh8461-003.phpt
index a3f11970f7..2f3ba933a6 100644
--- a/ext/opcache/tests/jit/gh8461-003.phpt
+++ b/ext/opcache/tests/jit/gh8461-003.phpt
@@ -1,19 +1,18 @@
 --TEST--
 Bug GH-8461 003 (JIT does not account for class re-compile)
 --EXTENSIONS--
 opcache
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
-opcache.jit_buffer_size=64M
 opcache.jit=1255
 opcache.file_update_protection=0
 opcache.revalidate_freq=0
 opcache.protect_memory=1
 --FILE--
 <?php
 
 // Checks that JITed code does not crash in --repeat 2 after the UniqueList
 // class is recompiled.
 
 require __DIR__ . '/gh8461-003.inc';
diff --git a/ext/opcache/tests/jit/gh8461-004.phpt b/ext/opcache/tests/jit/gh8461-004.phpt
index e2e9788e2b..1d754216f3 100644
--- a/ext/opcache/tests/jit/gh8461-004.phpt
+++ b/ext/opcache/tests/jit/gh8461-004.phpt
@@ -1,25 +1,24 @@
 --TEST--
 Bug GH-8461 004 (JIT does not account for class re-compile)
 --EXTENSIONS--
 opcache
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
-opcache.jit_buffer_size=64M
 opcache.jit=1255
 opcache.file_update_protection=0
 opcache.revalidate_freq=0
 opcache.protect_memory=1
 --FILE--
 <?php
 
 // Checks that JITed code does not crash in --repeat 2 after the UniqueList
 // class changes.
 
 if (!isset(opcache_get_status()['scripts'][__DIR__ . '/gh8461-004.inc'])) {
     $initialRequest = true;
     require __DIR__ . '/gh8461-004.inc';
 
 } else {
     $initialRequest = false;
     $y = 0;
diff --git a/ext/opcache/tests/jit/gh8461-005.phpt b/ext/opcache/tests/jit/gh8461-005.phpt
index ba8fdd552e..e857dd039a 100644
--- a/ext/opcache/tests/jit/gh8461-005.phpt
+++ b/ext/opcache/tests/jit/gh8461-005.phpt
@@ -1,22 +1,21 @@
 --TEST--
 Bug GH-8461 005 (JIT does not account for function re-compile)
 --EXTENSIONS--
 opcache
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
-opcache.jit_buffer_size=64M
 opcache.jit=1255
 opcache.file_update_protection=0
 opcache.revalidate_freq=0
 opcache.protect_memory=1
 --FILE--
 <?php
 
 if (!isset(opcache_get_status()['scripts'][__DIR__ . '/gh8461-005.inc'])) {
     $initialRequest = true;
     require __DIR__ . '/gh8461-005.inc';
 
 } else {
     $initialRequest = false;
     $y = 0;
diff --git a/ext/opcache/tests/jit/gh8461-006.phpt b/ext/opcache/tests/jit/gh8461-006.phpt
index 48a205bc00..0fa35666ca 100644
--- a/ext/opcache/tests/jit/gh8461-006.phpt
+++ b/ext/opcache/tests/jit/gh8461-006.phpt
@@ -1,17 +1,16 @@
 --TEST--
 Bug GH-8461 006 (JIT does not account for function re-compile)
 --EXTENSIONS--
 opcache
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
-opcache.jit_buffer_size=64M
 opcache.jit=1255
 opcache.file_update_protection=0
 opcache.revalidate_freq=0
 opcache.protect_memory=1
 --FILE--
 <?php
 
 namespace {
     $x = 0;
diff --git a/ext/opcache/tests/jit/gh8461-007.phpt b/ext/opcache/tests/jit/gh8461-007.phpt
index 08e6d5652c..a2b4879e4e 100644
--- a/ext/opcache/tests/jit/gh8461-007.phpt
+++ b/ext/opcache/tests/jit/gh8461-007.phpt
@@ -1,36 +1,35 @@
 --TEST--
 Bug GH-8461 007 (JIT does not account for function re-compile)
 --EXTENSIONS--
 opcache
 --SKIPIF--
 <?php
 if (PHP_OS_FAMILY === "Windows") die("skip Windows does not support preloading");
 ?>
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
-opcache.jit_buffer_size=64M
 opcache.jit=1255
 opcache.file_update_protection=0
 opcache.revalidate_freq=0
 opcache.protect_memory=1
 opcache.preload={PWD}/gh8461-007.inc
 --FILE--
 <?php
 
 for ($i = 0; $i < 100; $i++) {
     UniqueListLast::bar();
 }
 
 for ($i = 0; $i < 100; $i++) {
     new UniqueListLast();
 }
 
 for ($i = 0; $i < 10; $i++) {
     test();
 }
 
 print "OK";
 ?>
 --EXPECT--
 OK
diff --git a/ext/opcache/tests/jit/gh8461-008.phpt b/ext/opcache/tests/jit/gh8461-008.phpt
index 2cbe479a3e..52b4264353 100644
--- a/ext/opcache/tests/jit/gh8461-008.phpt
+++ b/ext/opcache/tests/jit/gh8461-008.phpt
@@ -1,16 +1,15 @@
 --TEST--
 Bug GH-8461 008 (JIT does not account for function re-compile)
 --EXTENSIONS--
 opcache
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
-opcache.jit_buffer_size=64M
 opcache.jit=1255
 opcache.file_update_protection=0
 opcache.revalidate_freq=0
 opcache.protect_memory=1
 --FILE--
 <?php
 
 $x = 0;
diff --git a/ext/opcache/tests/jit/gh8591-001.phpt b/ext/opcache/tests/jit/gh8591-001.phpt
index 696d9a7372..36db830346 100644
--- a/ext/opcache/tests/jit/gh8591-001.phpt
+++ b/ext/opcache/tests/jit/gh8591-001.phpt
@@ -1,19 +1,18 @@
 --TEST--
 Bug GH-8591 001 (JIT does not account for class re-compile)
 --EXTENSIONS--
 opcache
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
-opcache.jit_buffer_size=64M
 opcache.jit=1255
 opcache.file_update_protection=0
 opcache.revalidate_freq=0
 opcache.protect_memory=1
 --FILE--
 <?php
 
 // Checks that JITed code does not crash in --repeat 2 after the ModelInterface
 // interface is recompiled and Model is re-linked.
 
 require __DIR__ . '/gh8591-001.inc';
diff --git a/ext/opcache/tests/jit/gh8591-002.phpt b/ext/opcache/tests/jit/gh8591-002.phpt
index 448cd5e9f2..56d0fa7c6a 100644
--- a/ext/opcache/tests/jit/gh8591-002.phpt
+++ b/ext/opcache/tests/jit/gh8591-002.phpt
@@ -1,21 +1,20 @@
 --TEST--
 Bug GH-8591 002 (JIT does not account for class re-compile)
 --EXTENSIONS--
 opcache
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
-opcache.jit_buffer_size=64M
 opcache.jit=1255
 opcache.file_update_protection=0
 opcache.revalidate_freq=0
 opcache.protect_memory=1
 --FILE--
 <?php
 
 // Checks that JITed code does not crash in --repeat 2 after the ModelInterface
 // interface changes and Model is re-linked.
 
 if (!isset(opcache_get_status()['scripts'][__DIR__ . '/gh8591-002.inc'])) {
     require __DIR__ . '/gh8591-001.inc';
 } else {
diff --git a/ext/opcache/tests/jit/gh8591-003.phpt b/ext/opcache/tests/jit/gh8591-003.phpt
index 34d555114a..265ca1baed 100644
--- a/ext/opcache/tests/jit/gh8591-003.phpt
+++ b/ext/opcache/tests/jit/gh8591-003.phpt
@@ -1,14 +1,13 @@
 --TEST--
 Bug GH-8591 003 (JIT does not account for class re-compile)
 --EXTENSIONS--
 opcache
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
-opcache.jit_buffer_size=64M
 opcache.jit=1255
 opcache.file_update_protection=0
 opcache.revalidate_freq=0
 opcache.protect_memory=1
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/gh8591-004.phpt b/ext/opcache/tests/jit/gh8591-004.phpt
index 2ff47b4790..f43737930a 100644
--- a/ext/opcache/tests/jit/gh8591-004.phpt
+++ b/ext/opcache/tests/jit/gh8591-004.phpt
@@ -1,19 +1,18 @@
 --TEST--
 Bug GH-8591 004 (JIT does not account for class re-compile)
 --EXTENSIONS--
 opcache
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
-opcache.jit_buffer_size=64M
 opcache.jit=1255
 opcache.file_update_protection=0
 opcache.revalidate_freq=0
 opcache.protect_memory=1
 --FILE--
 <?php
 
 // Checks that JITed code does not crash in --repeat 2 after the ModelTrait
 // trait is recompiled and Model is re-linked.
 
 require __DIR__ . '/gh8591-004.inc';
diff --git a/ext/opcache/tests/jit/gh8591-005.phpt b/ext/opcache/tests/jit/gh8591-005.phpt
index 49a753d2d8..11200d592c 100644
--- a/ext/opcache/tests/jit/gh8591-005.phpt
+++ b/ext/opcache/tests/jit/gh8591-005.phpt
@@ -1,19 +1,18 @@
 --TEST--
 Bug GH-8591 001 (JIT does not account for class re-compile)
 --EXTENSIONS--
 opcache
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
-opcache.jit_buffer_size=64M
 opcache.jit=1255
 opcache.file_update_protection=0
 opcache.revalidate_freq=0
 opcache.protect_memory=1
 --FILE--
 <?php
 
 // Checks that JITed code does not crash in --repeat 2 after the AbstractModel
 // class is recompiled and Model is re-linked.
 
 require __DIR__ . '/gh8591-005.inc';
diff --git a/ext/opcache/tests/jit/gh8591-006.phpt b/ext/opcache/tests/jit/gh8591-006.phpt
index b9f7d896be..0b9cd3fded 100644
--- a/ext/opcache/tests/jit/gh8591-006.phpt
+++ b/ext/opcache/tests/jit/gh8591-006.phpt
@@ -1,19 +1,18 @@
 --TEST--
 Bug GH-8591 001 (JIT does not account for class re-compile)
 --EXTENSIONS--
 opcache
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
-opcache.jit_buffer_size=64M
 opcache.jit=1255
 opcache.file_update_protection=0
 opcache.revalidate_freq=0
 opcache.protect_memory=1
 opcache.preload={PWD}/gh8591-006.inc
 --SKIPIF--
 <?php
 if (PHP_OS_FAMILY == 'Windows') die('skip Preloading is not supported on Windows');
 ?>
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/gh8847.phpt b/ext/opcache/tests/jit/gh8847.phpt
index 0e5ef8469b..aa54039986 100644
--- a/ext/opcache/tests/jit/gh8847.phpt
+++ b/ext/opcache/tests/jit/gh8847.phpt
@@ -1,10 +1,9 @@
 --TEST--
 Bug GH-8847: PHP hanging infinitly at 100% cpu when check php syntaxe of a valid file
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 class klass
diff --git a/ext/opcache/tests/jit/gh8863.phpt b/ext/opcache/tests/jit/gh8863.phpt
index b0575a4478..0d8e833c5f 100644
--- a/ext/opcache/tests/jit/gh8863.phpt
+++ b/ext/opcache/tests/jit/gh8863.phpt
@@ -1,10 +1,9 @@
 --TEST--
 Bug GH-8863: RW operation on readonly property doesn't throw with JIT
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 class Test {
diff --git a/ext/opcache/tests/jit/hot_func_001.phpt b/ext/opcache/tests/jit/hot_func_001.phpt
index 31ff158d58..790dad5356 100644
--- a/ext/opcache/tests/jit/hot_func_001.phpt
+++ b/ext/opcache/tests/jit/hot_func_001.phpt
@@ -1,13 +1,12 @@
 --TEST--
 JIT HOT_FUNC: 001
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.jit=tracing
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/hot_func_002.phpt b/ext/opcache/tests/jit/hot_func_002.phpt
index 0c89ce46e5..a24551b2e5 100644
--- a/ext/opcache/tests/jit/hot_func_002.phpt
+++ b/ext/opcache/tests/jit/hot_func_002.phpt
@@ -1,14 +1,13 @@
 --TEST--
 JIT HOT_FUNC: 002
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.jit=tracing
 opcache.jit_hot_func=2
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/icall_001.phpt b/ext/opcache/tests/jit/icall_001.phpt
index 51fe0e6337..ae70e0c954 100644
--- a/ext/opcache/tests/jit/icall_001.phpt
+++ b/ext/opcache/tests/jit/icall_001.phpt
@@ -1,24 +1,23 @@
 --TEST--
 JIT ICALL: 001
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
 var_dump(true, 0, 42, -42, 0.0, 2.0,"hello", array());
 ?>
 --EXPECT--
 bool(true)
 int(0)
 int(42)
 int(-42)
 float(0)
 float(2)
 string(5) "hello"
 array(0) {
 }
diff --git a/ext/opcache/tests/jit/identical_001.phpt b/ext/opcache/tests/jit/identical_001.phpt
index 364ce936c8..3d1c166ed5 100644
--- a/ext/opcache/tests/jit/identical_001.phpt
+++ b/ext/opcache/tests/jit/identical_001.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT IDENTICAL: 001
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/identical_002.phpt b/ext/opcache/tests/jit/identical_002.phpt
index 573b494208..bc0048a94c 100644
--- a/ext/opcache/tests/jit/identical_002.phpt
+++ b/ext/opcache/tests/jit/identical_002.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT IDENTICAL: 002 Comparison with NaN
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/identical_003.phpt b/ext/opcache/tests/jit/identical_003.phpt
index ee50705648..fd7cafea52 100644
--- a/ext/opcache/tests/jit/identical_003.phpt
+++ b/ext/opcache/tests/jit/identical_003.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT IDENTICAL: 003 register allocation
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/identical_004.phpt b/ext/opcache/tests/jit/identical_004.phpt
index 80a1d19fc9..533d80b7ed 100644
--- a/ext/opcache/tests/jit/identical_004.phpt
+++ b/ext/opcache/tests/jit/identical_004.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT IDENTICAL: 004 undefined error
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=1M
 opcache.protect_memory=1
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/ignored_opcodes.phpt b/ext/opcache/tests/jit/ignored_opcodes.phpt
index 5910aae6f7..1d37a20aab 100644
--- a/ext/opcache/tests/jit/ignored_opcodes.phpt
+++ b/ext/opcache/tests/jit/ignored_opcodes.phpt
@@ -1,17 +1,16 @@
 --TEST--
 JIT: ignored opcodes
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.jit=function
 ;opcache.jit_debug=257
 zend_test.observer.enabled=1
 zend_test.observer.observe_all=1
 zend_test.observer.show_opcode_in_user_handler=ZEND_EXIT, ZEND_BEGIN_SILENCE, ZEND_END_SILENCE
 --EXTENSIONS--
 opcache
 zend_test
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/inc_001.phpt b/ext/opcache/tests/jit/inc_001.phpt
index c6630d45cf..00213f784a 100644
--- a/ext/opcache/tests/jit/inc_001.phpt
+++ b/ext/opcache/tests/jit/inc_001.phpt
@@ -1,13 +1,12 @@
 --TEST--
 JIT INC: 001
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/inc_002.phpt b/ext/opcache/tests/jit/inc_002.phpt
index 58cca48f4b..b586627dbe 100644
--- a/ext/opcache/tests/jit/inc_002.phpt
+++ b/ext/opcache/tests/jit/inc_002.phpt
@@ -1,13 +1,12 @@
 --TEST--
 JIT INC: 002
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/inc_003.phpt b/ext/opcache/tests/jit/inc_003.phpt
index d02bbd1062..6135f94962 100644
--- a/ext/opcache/tests/jit/inc_003.phpt
+++ b/ext/opcache/tests/jit/inc_003.phpt
@@ -1,13 +1,12 @@
 --TEST--
 JIT INC: 003
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/inc_004.phpt b/ext/opcache/tests/jit/inc_004.phpt
index 88c5dcff1a..c85ee4975a 100644
--- a/ext/opcache/tests/jit/inc_004.phpt
+++ b/ext/opcache/tests/jit/inc_004.phpt
@@ -1,13 +1,12 @@
 --TEST--
 JIT INC: 004
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/inc_005.phpt b/ext/opcache/tests/jit/inc_005.phpt
index 28a03a6f44..3e334cf6c9 100644
--- a/ext/opcache/tests/jit/inc_005.phpt
+++ b/ext/opcache/tests/jit/inc_005.phpt
@@ -1,13 +1,12 @@
 --TEST--
 JIT INC: 005
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/inc_006.phpt b/ext/opcache/tests/jit/inc_006.phpt
index 0e75a68110..089f53ac2a 100644
--- a/ext/opcache/tests/jit/inc_006.phpt
+++ b/ext/opcache/tests/jit/inc_006.phpt
@@ -1,13 +1,12 @@
 --TEST--
 JIT INC: 006
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/inc_007.phpt b/ext/opcache/tests/jit/inc_007.phpt
index 4dca3fcf29..00449e036e 100644
--- a/ext/opcache/tests/jit/inc_007.phpt
+++ b/ext/opcache/tests/jit/inc_007.phpt
@@ -1,13 +1,12 @@
 --TEST--
 JIT INC: 007
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/inc_008.phpt b/ext/opcache/tests/jit/inc_008.phpt
index 134aad0f65..e5ed67eb57 100644
--- a/ext/opcache/tests/jit/inc_008.phpt
+++ b/ext/opcache/tests/jit/inc_008.phpt
@@ -1,13 +1,12 @@
 --TEST--
 JIT INC: 008
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/inc_009.phpt b/ext/opcache/tests/jit/inc_009.phpt
index 267435c8f6..bdd45abf2d 100644
--- a/ext/opcache/tests/jit/inc_009.phpt
+++ b/ext/opcache/tests/jit/inc_009.phpt
@@ -1,13 +1,12 @@
 --TEST--
 JIT INC: 009
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/inc_010.phpt b/ext/opcache/tests/jit/inc_010.phpt
index 6ff71da7d4..a5df809271 100644
--- a/ext/opcache/tests/jit/inc_010.phpt
+++ b/ext/opcache/tests/jit/inc_010.phpt
@@ -1,13 +1,12 @@
 --TEST--
 JIT INC: 010
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/inc_011.phpt b/ext/opcache/tests/jit/inc_011.phpt
index c0ca3126d8..fc8a1ca01b 100644
--- a/ext/opcache/tests/jit/inc_011.phpt
+++ b/ext/opcache/tests/jit/inc_011.phpt
@@ -1,13 +1,12 @@
 --TEST--
 JIT INC: 011
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/inc_012.phpt b/ext/opcache/tests/jit/inc_012.phpt
index add709bbfa..6479531fc5 100644
--- a/ext/opcache/tests/jit/inc_012.phpt
+++ b/ext/opcache/tests/jit/inc_012.phpt
@@ -1,13 +1,12 @@
 --TEST--
 JIT INC: 012
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/inc_013.phpt b/ext/opcache/tests/jit/inc_013.phpt
index b080a7763c..6c45ae11ce 100644
--- a/ext/opcache/tests/jit/inc_013.phpt
+++ b/ext/opcache/tests/jit/inc_013.phpt
@@ -1,13 +1,12 @@
 --TEST--
 JIT INC: 013
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/inc_014.phpt b/ext/opcache/tests/jit/inc_014.phpt
index fe35fe4bec..c550644005 100644
--- a/ext/opcache/tests/jit/inc_014.phpt
+++ b/ext/opcache/tests/jit/inc_014.phpt
@@ -1,13 +1,12 @@
 --TEST--
 JIT INC: 014
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/inc_015.phpt b/ext/opcache/tests/jit/inc_015.phpt
index d0a4018a08..867380a62d 100644
--- a/ext/opcache/tests/jit/inc_015.phpt
+++ b/ext/opcache/tests/jit/inc_015.phpt
@@ -1,13 +1,12 @@
 --TEST--
 JIT INC: 015
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/inc_016.phpt b/ext/opcache/tests/jit/inc_016.phpt
index 5431871f95..bce53a36a0 100644
--- a/ext/opcache/tests/jit/inc_016.phpt
+++ b/ext/opcache/tests/jit/inc_016.phpt
@@ -1,13 +1,12 @@
 --TEST--
 JIT INC: 016
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/inc_017.phpt b/ext/opcache/tests/jit/inc_017.phpt
index 5a58945fa7..5e47cd5d9f 100644
--- a/ext/opcache/tests/jit/inc_017.phpt
+++ b/ext/opcache/tests/jit/inc_017.phpt
@@ -1,13 +1,12 @@
 --TEST--
 JIT INC: 017
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/inc_018.phpt b/ext/opcache/tests/jit/inc_018.phpt
index 6db2e7ddd7..063153b85c 100644
--- a/ext/opcache/tests/jit/inc_018.phpt
+++ b/ext/opcache/tests/jit/inc_018.phpt
@@ -1,13 +1,12 @@
 --TEST--
 JIT INC: 018
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/inc_019.phpt b/ext/opcache/tests/jit/inc_019.phpt
index d718188e0a..772fa1c6f3 100644
--- a/ext/opcache/tests/jit/inc_019.phpt
+++ b/ext/opcache/tests/jit/inc_019.phpt
@@ -1,13 +1,12 @@
 --TEST--
 JIT INC: 019
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/inc_020.phpt b/ext/opcache/tests/jit/inc_020.phpt
index 17fbdedd00..9c0c2472ac 100644
--- a/ext/opcache/tests/jit/inc_020.phpt
+++ b/ext/opcache/tests/jit/inc_020.phpt
@@ -1,13 +1,12 @@
 --TEST--
 JIT INC: 020
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/inc_021.phpt b/ext/opcache/tests/jit/inc_021.phpt
index b6c5f3c4f3..c8de1f8b32 100644
--- a/ext/opcache/tests/jit/inc_021.phpt
+++ b/ext/opcache/tests/jit/inc_021.phpt
@@ -1,17 +1,16 @@
 --TEST--
 JIT INC: 021
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --SKIPIF--
 <?php
 if (PHP_INT_SIZE != 8) die("skip this test is for 64bit platform only");
 ?>
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/inc_022.phpt b/ext/opcache/tests/jit/inc_022.phpt
index 156ad81364..9b13f51dc2 100644
--- a/ext/opcache/tests/jit/inc_022.phpt
+++ b/ext/opcache/tests/jit/inc_022.phpt
@@ -1,13 +1,12 @@
 --TEST--
 JIT INC: 022
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/inc_023.phpt b/ext/opcache/tests/jit/inc_023.phpt
index a18b36bc8f..ef832c096a 100644
--- a/ext/opcache/tests/jit/inc_023.phpt
+++ b/ext/opcache/tests/jit/inc_023.phpt
@@ -1,10 +1,9 @@
 --TEST--
 PRE_INC/DEC refcounted typed property
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/inc_024.phpt b/ext/opcache/tests/jit/inc_024.phpt
index 5b55b517b1..e125f9b084 100644
--- a/ext/opcache/tests/jit/inc_024.phpt
+++ b/ext/opcache/tests/jit/inc_024.phpt
@@ -1,12 +1,11 @@
 --TEST--
 PRE_INC/DEC numeric string
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --SKIPIF--
 <?php if (PHP_INT_SIZE != 8) die("skip: 64-bit only"); ?>
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/inc_obj_001.phpt b/ext/opcache/tests/jit/inc_obj_001.phpt
index 9378721e5f..7e5562d02a 100644
--- a/ext/opcache/tests/jit/inc_obj_001.phpt
+++ b/ext/opcache/tests/jit/inc_obj_001.phpt
@@ -1,10 +1,9 @@
 --TEST--
 PRE_INC_OBJ: 001
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/inc_obj_002.phpt b/ext/opcache/tests/jit/inc_obj_002.phpt
index 6b5a2e3a36..d063444609 100644
--- a/ext/opcache/tests/jit/inc_obj_002.phpt
+++ b/ext/opcache/tests/jit/inc_obj_002.phpt
@@ -1,11 +1,10 @@
 --TEST--
 PRE_INC_OBJ: 002
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --FILE--
 <?php
 #[AllowDynamicProperties]
diff --git a/ext/opcache/tests/jit/inc_obj_003.phpt b/ext/opcache/tests/jit/inc_obj_003.phpt
index b5158109f5..dfa556cfe2 100644
--- a/ext/opcache/tests/jit/inc_obj_003.phpt
+++ b/ext/opcache/tests/jit/inc_obj_003.phpt
@@ -1,10 +1,9 @@
 --TEST--
 PRE_INC_OBJ: 003
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/inc_obj_004.phpt b/ext/opcache/tests/jit/inc_obj_004.phpt
index e4cdbbd32c..9a0e9ffc75 100644
--- a/ext/opcache/tests/jit/inc_obj_004.phpt
+++ b/ext/opcache/tests/jit/inc_obj_004.phpt
@@ -1,10 +1,9 @@
 --TEST--
 PRE_INC_OBJ: 004
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/inc_obj_005.phpt b/ext/opcache/tests/jit/inc_obj_005.phpt
index 80ec837be4..39700e10d1 100644
--- a/ext/opcache/tests/jit/inc_obj_005.phpt
+++ b/ext/opcache/tests/jit/inc_obj_005.phpt
@@ -1,19 +1,18 @@
 --TEST--
 PRE_INC_OBJ: 005
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --FILE--
 <?php
 json_encode($y)->y++;
 ?>
 --EXPECTF--
 Warning: Undefined variable $y in %sinc_obj_005.php on line 2
 
 Fatal error: Uncaught Error: Attempt to increment/decrement property "y" on string in %sinc_obj_005.php:2
 Stack trace:
 #0 {main}
   thrown in %sinc_obj_005.php on line 2
diff --git a/ext/opcache/tests/jit/inc_obj_006.phpt b/ext/opcache/tests/jit/inc_obj_006.phpt
index 00b8d01c3b..af31d0c471 100644
--- a/ext/opcache/tests/jit/inc_obj_006.phpt
+++ b/ext/opcache/tests/jit/inc_obj_006.phpt
@@ -1,12 +1,11 @@
 --TEST--
 PRE_INC_OBJ: 006
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=1M
 opcache.protect_memory=1
 --FILE--
 <?php
 $a = new class {
     public int $foo = 0;
diff --git a/ext/opcache/tests/jit/init_fcall_001.phpt b/ext/opcache/tests/jit/init_fcall_001.phpt
index 15d783ead8..fae4af5317 100644
--- a/ext/opcache/tests/jit/init_fcall_001.phpt
+++ b/ext/opcache/tests/jit/init_fcall_001.phpt
@@ -1,22 +1,21 @@
 --TEST--
 JIT INIT_FCALL: 001 too deep nesting level
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 ini_set(ini_set(ini_set(ini_set(ini_set(ini_set(ini_set(ini_set(ini_set(
 ini_set(ini_set(ini_set(ini_set(ini_set(ini_set(ini_set(ini_set(ini_set(
 ini_set(ini_set(ini_set(ini_set(ini_set(ini_set(ini_set(ini_set(ini_set(
 ini_set(ini_set(ini_set(ini_set(ini_set(ini_set(
 )))))))))))))))))))))))))))))))));
 ?>
 --EXPECTF--
 Fatal error: Uncaught ArgumentCountError: ini_set() expects exactly 2 arguments, 0 given in %sinit_fcall_001.php:5
 Stack trace:
 #0 %sinit_fcall_001.php(5): ini_set()
 #1 {main}
   thrown in %sinit_fcall_001.php on line 5
 
diff --git a/ext/opcache/tests/jit/init_fcall_002.phpt b/ext/opcache/tests/jit/init_fcall_002.phpt
index 65de02411c..22d9fece01 100644
--- a/ext/opcache/tests/jit/init_fcall_002.phpt
+++ b/ext/opcache/tests/jit/init_fcall_002.phpt
@@ -1,11 +1,10 @@
 --TEST--
 JIT INIT_FCALL: 002 incorrect megamorphic call detection
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.jit=tracing
 opcache.jit_max_polymorphic_calls=0
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/init_fcall_003.phpt b/ext/opcache/tests/jit/init_fcall_003.phpt
index 3a03f339aa..268a6bf25e 100644
--- a/ext/opcache/tests/jit/init_fcall_003.phpt
+++ b/ext/opcache/tests/jit/init_fcall_003.phpt
@@ -1,29 +1,28 @@
 --TEST--
 JIT INIT_FCALL: 003 incorrect init fcall guard (fail with tracing JIT and --repeat 3)
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.jit_max_polymorphic_calls=0
 opcache.jit=tracing
 opcache.jit_hot_loop=64
 opcache.jit_hot_func=127
 opcache.jit_hot_return=8
 opcache.jit_hot_side_exit=8
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
 include(__DIR__ . '/init_fcall_003.inc');
 for($a=1; $a<100; $a++){
     f('1');
     f('1');
     f('1');
 }
 touch(__DIR__ . '/init_fcall_003.inc');
 opcache_invalidate(__DIR__ . '/init_fcall_003.inc', true);
 ?>
 DONE
 --EXPECT--
 DONE
diff --git a/ext/opcache/tests/jit/isset_001.phpt b/ext/opcache/tests/jit/isset_001.phpt
index df431497d2..45cd63673a 100644
--- a/ext/opcache/tests/jit/isset_001.phpt
+++ b/ext/opcache/tests/jit/isset_001.phpt
@@ -1,10 +1,9 @@
 --TEST--
 ISSET_ISEMPTY_DIM with undefined variable
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 function test() {
diff --git a/ext/opcache/tests/jit/isset_002.phpt b/ext/opcache/tests/jit/isset_002.phpt
index 1df489fc4f..2c2527fbe7 100644
--- a/ext/opcache/tests/jit/isset_002.phpt
+++ b/ext/opcache/tests/jit/isset_002.phpt
@@ -1,10 +1,9 @@
 --TEST--
 ISSET_ISEMPTY_DIM with undefined variable
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=1M
 --FILE--
 <?php
 function foo() {
diff --git a/ext/opcache/tests/jit/jmpz_001.phpt b/ext/opcache/tests/jit/jmpz_001.phpt
index 61731833cb..bd0a1c2321 100644
--- a/ext/opcache/tests/jit/jmpz_001.phpt
+++ b/ext/opcache/tests/jit/jmpz_001.phpt
@@ -1,13 +1,12 @@
 --TEST--
 JIT JMPZ: JMPZ may require code for "smart branch" and at the same time be a target of another JMP.
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
 namespace A;
diff --git a/ext/opcache/tests/jit/jmpz_002.phpt b/ext/opcache/tests/jit/jmpz_002.phpt
index 247fc9eae9..9e5dea8a6f 100644
--- a/ext/opcache/tests/jit/jmpz_002.phpt
+++ b/ext/opcache/tests/jit/jmpz_002.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT JMPZ: Separate JMPZ for "smart branch" may be only emitted by function JIT
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/jmpz_ex_001.phpt b/ext/opcache/tests/jit/jmpz_ex_001.phpt
index 52a5deb044..b70a713f08 100644
--- a/ext/opcache/tests/jit/jmpz_ex_001.phpt
+++ b/ext/opcache/tests/jit/jmpz_ex_001.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT JMPZ_EX: Operand needs to be freed even if same as result
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/loop_001.phpt b/ext/opcache/tests/jit/loop_001.phpt
index 73e721d32a..53c356f7b1 100644
--- a/ext/opcache/tests/jit/loop_001.phpt
+++ b/ext/opcache/tests/jit/loop_001.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT LOOP: 001
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/loop_002.phpt b/ext/opcache/tests/jit/loop_002.phpt
index d8e18fd43e..a459ffff96 100644
--- a/ext/opcache/tests/jit/loop_002.phpt
+++ b/ext/opcache/tests/jit/loop_002.phpt
@@ -1,16 +1,15 @@
 --TEST--
 JIT HOT LOOP: 002
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.jit=tracing
 opcache.jit_hot_func=2
 opcache.jit_hot_loop=2
 opcache.jit_hot_side_exit=0
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/loop_003.phpt b/ext/opcache/tests/jit/loop_003.phpt
index 4efc67e0a3..05b9600518 100644
--- a/ext/opcache/tests/jit/loop_003.phpt
+++ b/ext/opcache/tests/jit/loop_003.phpt
@@ -1,9 +1,8 @@
 --TEST--
 JIT LOOP: 003 Incorrect dead IR edge elimination
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
-opcache.jit_buffer_size=32M
 --FILE--
 <?php
 function () {
diff --git a/ext/opcache/tests/jit/match_001.phpt b/ext/opcache/tests/jit/match_001.phpt
index 97bdb7188c..b21c5b2c17 100644
--- a/ext/opcache/tests/jit/match_001.phpt
+++ b/ext/opcache/tests/jit/match_001.phpt
@@ -1,10 +1,9 @@
 --TEST--
 Match with undefined input
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=1M
 --FILE--
 <?php
 function foo() {
diff --git a/ext/opcache/tests/jit/match_002.phpt b/ext/opcache/tests/jit/match_002.phpt
index a0940ad69e..5b1803f981 100644
--- a/ext/opcache/tests/jit/match_002.phpt
+++ b/ext/opcache/tests/jit/match_002.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT Match: 002 impossible input
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=1M
 --FILE--
 <?php
 class C {
diff --git a/ext/opcache/tests/jit/match_003.phpt b/ext/opcache/tests/jit/match_003.phpt
index 02c591a63f..af664a8593 100644
--- a/ext/opcache/tests/jit/match_003.phpt
+++ b/ext/opcache/tests/jit/match_003.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT Match: 003 impossible input
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=1M
 --FILE--
 <?php
 function foo(C $i) {
diff --git a/ext/opcache/tests/jit/method_call_001.phpt b/ext/opcache/tests/jit/method_call_001.phpt
index dc1b4a47f0..1c407bd6e0 100644
--- a/ext/opcache/tests/jit/method_call_001.phpt
+++ b/ext/opcache/tests/jit/method_call_001.phpt
@@ -1,11 +1,10 @@
 --TEST--
 JIT METHOD_CALL: 001
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/mod_001.phpt b/ext/opcache/tests/jit/mod_001.phpt
index 1e0e20ce28..03431fe54e 100644
--- a/ext/opcache/tests/jit/mod_001.phpt
+++ b/ext/opcache/tests/jit/mod_001.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT MOD: 001
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/mod_002.phpt b/ext/opcache/tests/jit/mod_002.phpt
index 9376853970..b1d163b94d 100644
--- a/ext/opcache/tests/jit/mod_002.phpt
+++ b/ext/opcache/tests/jit/mod_002.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT MOD: 002
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/mod_003.phpt b/ext/opcache/tests/jit/mod_003.phpt
index 6f1dc070a7..0557594bbf 100644
--- a/ext/opcache/tests/jit/mod_003.phpt
+++ b/ext/opcache/tests/jit/mod_003.phpt
@@ -1,13 +1,12 @@
 --TEST--
 JIT MOD: 003
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 opcache.jit=function
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/mod_004.phpt b/ext/opcache/tests/jit/mod_004.phpt
index 20b0afb022..73cf1a92c4 100644
--- a/ext/opcache/tests/jit/mod_004.phpt
+++ b/ext/opcache/tests/jit/mod_004.phpt
@@ -1,21 +1,20 @@
 --TEST--
 JIT MOD: 004
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --FILE--
 <?php
 $a = [];
 $b = "";
 $a["x{$b}y"] %= 0;
 ?>
 --EXPECTF--
 Warning: Undefined array key "xy" in %smod_004.php on line 4
 
 Fatal error: Uncaught DivisionByZeroError: Modulo by zero in %smod_004.php:4
 Stack trace:
 #0 {main}
   thrown in %smod_004.php on line 4
\ No newline at end of file
diff --git a/ext/opcache/tests/jit/mod_005.phpt b/ext/opcache/tests/jit/mod_005.phpt
index 6c65e65675..fab2cd661a 100644
--- a/ext/opcache/tests/jit/mod_005.phpt
+++ b/ext/opcache/tests/jit/mod_005.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT MOD: 005
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/mod_006.phpt b/ext/opcache/tests/jit/mod_006.phpt
index 58e23dd5de..6409cd3253 100644
--- a/ext/opcache/tests/jit/mod_006.phpt
+++ b/ext/opcache/tests/jit/mod_006.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT MOD: 005
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/mod_007.phpt b/ext/opcache/tests/jit/mod_007.phpt
index e8f68de221..1d76d34fe4 100644
--- a/ext/opcache/tests/jit/mod_007.phpt
+++ b/ext/opcache/tests/jit/mod_007.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT MOD: 007
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/mod_008.phpt b/ext/opcache/tests/jit/mod_008.phpt
index a307870b16..244cb435c3 100644
--- a/ext/opcache/tests/jit/mod_008.phpt
+++ b/ext/opcache/tests/jit/mod_008.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT MOD: 008
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=1M
 opcache.protect_memory=1
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/mul_001.phpt b/ext/opcache/tests/jit/mul_001.phpt
index dd7222fef2..b14fc655d4 100644
--- a/ext/opcache/tests/jit/mul_001.phpt
+++ b/ext/opcache/tests/jit/mul_001.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT MUL: 001 integer multiplay
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/mul_002.phpt b/ext/opcache/tests/jit/mul_002.phpt
index cad5e48266..c6b14ebc0b 100644
--- a/ext/opcache/tests/jit/mul_002.phpt
+++ b/ext/opcache/tests/jit/mul_002.phpt
@@ -1,16 +1,15 @@
 --TEST--
 JIT MUL: 002 integer overflow
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --SKIPIF--
 <?php
 if (PHP_INT_SIZE != 8) die("skip this test is for 64bit platform only");
 ?>
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/mul_003.phpt b/ext/opcache/tests/jit/mul_003.phpt
index 79ae856e3b..d57534d9b3 100644
--- a/ext/opcache/tests/jit/mul_003.phpt
+++ b/ext/opcache/tests/jit/mul_003.phpt
@@ -1,16 +1,15 @@
 --TEST--
 JIT MUL: 003 boundary value for optmizing MUL to SHIFT
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --SKIPIF--
 <?php
 if (PHP_INT_SIZE != 8) die("skip this test is for 64bit platform only");
 ?>
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/mul_004.phpt b/ext/opcache/tests/jit/mul_004.phpt
index 0b0984e5bf..5348085f99 100644
--- a/ext/opcache/tests/jit/mul_004.phpt
+++ b/ext/opcache/tests/jit/mul_004.phpt
@@ -1,16 +1,15 @@
 --TEST--
 JIT MUL: 004 Overflow check for optmizing MUL to SHIFT
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --SKIPIF--
 <?php
 if (PHP_INT_SIZE != 8) die("skip this test is for 64bit platform only");
 ?>
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/mul_005.phpt b/ext/opcache/tests/jit/mul_005.phpt
index d1dc21dee9..7476d215f1 100644
--- a/ext/opcache/tests/jit/mul_005.phpt
+++ b/ext/opcache/tests/jit/mul_005.phpt
@@ -1,13 +1,12 @@
 --TEST--
 JIT MUL: 005 exception and SEND optimization
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.jit=function
 opcache.protect_memory=1
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/mul_006.phpt b/ext/opcache/tests/jit/mul_006.phpt
index ae35bae319..a36bdec41b 100644
--- a/ext/opcache/tests/jit/mul_006.phpt
+++ b/ext/opcache/tests/jit/mul_006.phpt
@@ -1,19 +1,18 @@
 --TEST--
 JIT MUL: 006 incorrect guard elimination 
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --FILE--
 <?php
 for ($i = 0; $i<6; $i++) {
     $a + -$a=&$a;
     $a = 3*$a + 0xff000;
     $a += $a;
 }
 ?>
 DONE
 --EXPECT--
 DONE
\ No newline at end of file
diff --git a/ext/opcache/tests/jit/mul_007.phpt b/ext/opcache/tests/jit/mul_007.phpt
index 2417ab9a38..71eb4d4009 100644
--- a/ext/opcache/tests/jit/mul_007.phpt
+++ b/ext/opcache/tests/jit/mul_007.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT MUL: 007 incorrect optimization
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/mul_008.phpt b/ext/opcache/tests/jit/mul_008.phpt
index 58466abcd2..c4a5d6c9ff 100644
--- a/ext/opcache/tests/jit/mul_008.phpt
+++ b/ext/opcache/tests/jit/mul_008.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT MUL: 008 incorrect elimination of type store
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --SKIPIF--
 <?php if (PHP_INT_SIZE != 8) die("skip: 64-bit only"); ?>
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/mul_009.phpt b/ext/opcache/tests/jit/mul_009.phpt
index 840473fe73..a6016bd535 100644
--- a/ext/opcache/tests/jit/mul_009.phpt
+++ b/ext/opcache/tests/jit/mul_009.phpt
@@ -1,20 +1,19 @@
 --TEST--
 JIT MUL: 009 memory leak
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --FILE--
 <?php
 $x[""][] = 1;
 $x[~"$y"] *= 1;
 ?>
 --EXPECTF--
 Warning: Undefined variable $y in %smul_009.php on line 3
 
 Fatal error: Uncaught TypeError: Unsupported operand types: array * int in %smul_009.php:3
 Stack trace:
 #0 {main}
   thrown in %smul_009.php on line 3
\ No newline at end of file
diff --git a/ext/opcache/tests/jit/nan_001.phpt b/ext/opcache/tests/jit/nan_001.phpt
index 0e0829c0e4..3ff1027454 100644
--- a/ext/opcache/tests/jit/nan_001.phpt
+++ b/ext/opcache/tests/jit/nan_001.phpt
@@ -1,20 +1,19 @@
 --TEST--
 NaN handling: 001
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --FILE--
 <?php
 $b = NAN;
 for ($i = 0; $i < 3; $i++) {
     if ($b) { echo "nan is true\n"; }
     else { echo "nan is false\n"; }
 }	
 ?>
 --EXPECT--
 nan is true
 nan is true
 nan is true
diff --git a/ext/opcache/tests/jit/nan_002.phpt b/ext/opcache/tests/jit/nan_002.phpt
index 553baa25c0..01cb1ebb40 100644
--- a/ext/opcache/tests/jit/nan_002.phpt
+++ b/ext/opcache/tests/jit/nan_002.phpt
@@ -1,10 +1,9 @@
 --TEST--
 NaN handling: 002
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/not_001.phpt b/ext/opcache/tests/jit/not_001.phpt
index 9ba157254c..887f28b381 100644
--- a/ext/opcache/tests/jit/not_001.phpt
+++ b/ext/opcache/tests/jit/not_001.phpt
@@ -1,13 +1,12 @@
 --TEST--
 JIT NOT: 001
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/not_002.phpt b/ext/opcache/tests/jit/not_002.phpt
index f3e5c2e51b..64292e2c37 100644
--- a/ext/opcache/tests/jit/not_002.phpt
+++ b/ext/opcache/tests/jit/not_002.phpt
@@ -1,13 +1,12 @@
 --TEST--
 JIT NOT: 001
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/not_003.phpt b/ext/opcache/tests/jit/not_003.phpt
index 39cb958805..19deecab84 100644
--- a/ext/opcache/tests/jit/not_003.phpt
+++ b/ext/opcache/tests/jit/not_003.phpt
@@ -1,18 +1,17 @@
 --TEST--
 JIT NOT: 003
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=1M
 opcache.protect_memory=1
 --FILE--
 <?php
 set_error_handler(function(){y;}) . !$y;
 ?>
 --EXPECTF--
 Fatal error: Uncaught Error: Undefined constant "y" in %snot_003.php:2
 Stack trace:
 #0 %snot_003.php(2): {closure}(2, '%s', '%s', 2)
 #1 {main}
   thrown in %snot_003.php on line 2
\ No newline at end of file
diff --git a/ext/opcache/tests/jit/noval_001.phpt b/ext/opcache/tests/jit/noval_001.phpt
index b6ead52320..0fef38652b 100644
--- a/ext/opcache/tests/jit/noval_001.phpt
+++ b/ext/opcache/tests/jit/noval_001.phpt
@@ -1,13 +1,12 @@
 --TEST--
 JIT NOVAL: 001 (bug in zend_jit_compute_false_dependencies())
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/oss-fuzz-64727.phpt b/ext/opcache/tests/jit/oss-fuzz-64727.phpt
index e8479d1d2f..1b2e1af64a 100644
--- a/ext/opcache/tests/jit/oss-fuzz-64727.phpt
+++ b/ext/opcache/tests/jit/oss-fuzz-64727.phpt
@@ -1,10 +1,9 @@
 --TEST--
 oss-fuzz #64727
 --INI--
 opcache.enable_cli=1
-opcache.jit_buffer_size=64M
 opcache.jit=function
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/qm_assign_001.phpt b/ext/opcache/tests/jit/qm_assign_001.phpt
index 10df318a53..ecfda50a28 100644
--- a/ext/opcache/tests/jit/qm_assign_001.phpt
+++ b/ext/opcache/tests/jit/qm_assign_001.phpt
@@ -1,17 +1,16 @@
 --TEST--
 JIT QM_ASSIGN: 001 incorrect optimizarion
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 echo (1%1.5)-(1.5%1%1%-1)-1;
 ?>
 --EXPECTF--
 Deprecated: Implicit conversion from float 1.5 to int loses precision in %sqm_assign_001.php on line 2
 
 Deprecated: Implicit conversion from float 1.5 to int loses precision in %sqm_assign_001.php on line 2
 -1
 
diff --git a/ext/opcache/tests/jit/qm_assign_002.phpt b/ext/opcache/tests/jit/qm_assign_002.phpt
index 56a1dfadb7..8f6328d81d 100644
--- a/ext/opcache/tests/jit/qm_assign_002.phpt
+++ b/ext/opcache/tests/jit/qm_assign_002.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT QM_ASSIGN: 002 assign to it self
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 function test() {
diff --git a/ext/opcache/tests/jit/qm_assign_003.phpt b/ext/opcache/tests/jit/qm_assign_003.phpt
index 0d00ed07e9..cb62c5425c 100644
--- a/ext/opcache/tests/jit/qm_assign_003.phpt
+++ b/ext/opcache/tests/jit/qm_assign_003.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT QM_ASSIGN: 003 missing type store
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 function foo() {
diff --git a/ext/opcache/tests/jit/qm_assign_undef_exception.phpt b/ext/opcache/tests/jit/qm_assign_undef_exception.phpt
index 462f860924..4e93e2ed7e 100644
--- a/ext/opcache/tests/jit/qm_assign_undef_exception.phpt
+++ b/ext/opcache/tests/jit/qm_assign_undef_exception.phpt
@@ -1,10 +1,9 @@
 --TEST--
 QM_ASSIGN of undef var may throw exception
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 set_error_handler(function($_, $m) { throw new Exception($m); });
diff --git a/ext/opcache/tests/jit/readonly_001.phpt b/ext/opcache/tests/jit/readonly_001.phpt
index a4f27cfb31..d3f57cfe1f 100644
--- a/ext/opcache/tests/jit/readonly_001.phpt
+++ b/ext/opcache/tests/jit/readonly_001.phpt
@@ -1,9 +1,8 @@
 --TEST--
 JIT readonly modification post-inc
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 class Foo {
diff --git a/ext/opcache/tests/jit/readonly_002.phpt b/ext/opcache/tests/jit/readonly_002.phpt
index c64252ffae..5209ac64a0 100644
--- a/ext/opcache/tests/jit/readonly_002.phpt
+++ b/ext/opcache/tests/jit/readonly_002.phpt
@@ -1,9 +1,8 @@
 --TEST--
 JIT readonly modification pre-inc
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 class Foo {
diff --git a/ext/opcache/tests/jit/readonly_003.phpt b/ext/opcache/tests/jit/readonly_003.phpt
index a3e5d6d443..a98d96a5f4 100644
--- a/ext/opcache/tests/jit/readonly_003.phpt
+++ b/ext/opcache/tests/jit/readonly_003.phpt
@@ -1,9 +1,8 @@
 --TEST--
 JIT readonly modification post-inc with result
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 class Foo {
diff --git a/ext/opcache/tests/jit/readonly_004.phpt b/ext/opcache/tests/jit/readonly_004.phpt
index eb4ec8e10b..52e3001db7 100644
--- a/ext/opcache/tests/jit/readonly_004.phpt
+++ b/ext/opcache/tests/jit/readonly_004.phpt
@@ -1,9 +1,8 @@
 --TEST--
 JIT readonly modification pre-inc with result
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 class Foo {
diff --git a/ext/opcache/tests/jit/readonly_005.phpt b/ext/opcache/tests/jit/readonly_005.phpt
index 046ac889f4..32abcb63c2 100644
--- a/ext/opcache/tests/jit/readonly_005.phpt
+++ b/ext/opcache/tests/jit/readonly_005.phpt
@@ -1,9 +1,8 @@
 --TEST--
 JIT readonly modification post-dec
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 class Foo {
diff --git a/ext/opcache/tests/jit/readonly_006.phpt b/ext/opcache/tests/jit/readonly_006.phpt
index d78419ddf3..ed32e8cc0b 100644
--- a/ext/opcache/tests/jit/readonly_006.phpt
+++ b/ext/opcache/tests/jit/readonly_006.phpt
@@ -1,9 +1,8 @@
 --TEST--
 JIT readonly modification pre-dec
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 class Foo {
diff --git a/ext/opcache/tests/jit/readonly_007.phpt b/ext/opcache/tests/jit/readonly_007.phpt
index fcb19f4c44..b6f2d31c7e 100644
--- a/ext/opcache/tests/jit/readonly_007.phpt
+++ b/ext/opcache/tests/jit/readonly_007.phpt
@@ -1,9 +1,8 @@
 --TEST--
 JIT readonly modification dec-inc with result
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 class Foo {
diff --git a/ext/opcache/tests/jit/readonly_008.phpt b/ext/opcache/tests/jit/readonly_008.phpt
index 82e34111a8..59cb9d2796 100644
--- a/ext/opcache/tests/jit/readonly_008.phpt
+++ b/ext/opcache/tests/jit/readonly_008.phpt
@@ -1,9 +1,8 @@
 --TEST--
 JIT readonly modification pre-dec with result
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 class Foo {
diff --git a/ext/opcache/tests/jit/recursive_wrong_args.phpt b/ext/opcache/tests/jit/recursive_wrong_args.phpt
index 3aeeeeeea8..84043ca03d 100644
--- a/ext/opcache/tests/jit/recursive_wrong_args.phpt
+++ b/ext/opcache/tests/jit/recursive_wrong_args.phpt
@@ -1,10 +1,9 @@
 --TEST--
 Recursive call with too few args
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 function f($arg) {
diff --git a/ext/opcache/tests/jit/recv_001.phpt b/ext/opcache/tests/jit/recv_001.phpt
index fc8f0e8891..763360be80 100644
--- a/ext/opcache/tests/jit/recv_001.phpt
+++ b/ext/opcache/tests/jit/recv_001.phpt
@@ -1,13 +1,12 @@
 --TEST--
 JIT RECV: infinite loop
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/recv_002.phpt b/ext/opcache/tests/jit/recv_002.phpt
index e8b11c9a61..30999dc278 100644
--- a/ext/opcache/tests/jit/recv_002.phpt
+++ b/ext/opcache/tests/jit/recv_002.phpt
@@ -1,13 +1,12 @@
 --TEST--
 JIT RECV: too few arguments
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/recv_003.phpt b/ext/opcache/tests/jit/recv_003.phpt
index 5834a4374c..aabd8af2f1 100644
--- a/ext/opcache/tests/jit/recv_003.phpt
+++ b/ext/opcache/tests/jit/recv_003.phpt
@@ -1,13 +1,12 @@
 --TEST--
 JIT RECV: slow type check
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/recv_004.phpt b/ext/opcache/tests/jit/recv_004.phpt
index 98e3f9e6f3..c55b93450d 100644
--- a/ext/opcache/tests/jit/recv_004.phpt
+++ b/ext/opcache/tests/jit/recv_004.phpt
@@ -1,13 +1,12 @@
 --TEST--
 JIT RECV: default arguments with type checks
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/recv_005.phpt b/ext/opcache/tests/jit/recv_005.phpt
index a346c3cd39..e9aef92ecc 100644
--- a/ext/opcache/tests/jit/recv_005.phpt
+++ b/ext/opcache/tests/jit/recv_005.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT RECV: 005
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/reg_alloc_001.phpt b/ext/opcache/tests/jit/reg_alloc_001.phpt
index 6f087dfaa0..c39025ef58 100644
--- a/ext/opcache/tests/jit/reg_alloc_001.phpt
+++ b/ext/opcache/tests/jit/reg_alloc_001.phpt
@@ -1,12 +1,11 @@
 --TEST--
 Register Alloction 001: Spilling in "identical" code
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/reg_alloc_002.phpt b/ext/opcache/tests/jit/reg_alloc_002.phpt
index d9db7112a4..cae980a777 100644
--- a/ext/opcache/tests/jit/reg_alloc_002.phpt
+++ b/ext/opcache/tests/jit/reg_alloc_002.phpt
@@ -1,12 +1,11 @@
 --TEST--
 Register Alloction 002: SEND_VAL_EX uses %r0 as a temporary register
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/reg_alloc_003.phpt b/ext/opcache/tests/jit/reg_alloc_003.phpt
index 24d548118f..fc1b234542 100644
--- a/ext/opcache/tests/jit/reg_alloc_003.phpt
+++ b/ext/opcache/tests/jit/reg_alloc_003.phpt
@@ -1,16 +1,15 @@
 --TEST--
 Register Alloction 003: Reuse temporary register
 --SKIPIF--
 <?php
 if (PHP_INT_SIZE != 8) die("skip this test is for 64bit platform only");
 ?>
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/reg_alloc_003_32bits.phpt b/ext/opcache/tests/jit/reg_alloc_003_32bits.phpt
index a90e88e598..9b373c6230 100644
--- a/ext/opcache/tests/jit/reg_alloc_003_32bits.phpt
+++ b/ext/opcache/tests/jit/reg_alloc_003_32bits.phpt
@@ -1,16 +1,15 @@
 --TEST--
 Register Alloction 003: Reuse temporary register
 --SKIPIF--
 <?php
 if (PHP_INT_SIZE != 4) die("skip this test is for 32bit platform only");
 ?>
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/reg_alloc_004.phpt b/ext/opcache/tests/jit/reg_alloc_004.phpt
index 002040a6f3..5e82f3fab6 100644
--- a/ext/opcache/tests/jit/reg_alloc_004.phpt
+++ b/ext/opcache/tests/jit/reg_alloc_004.phpt
@@ -1,14 +1,13 @@
 --TEST--
 Register Alloction 004: Check guard before register load
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 opcache.jit=tracing
 opcache.jit_hot_func=1
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/reg_alloc_005.phpt b/ext/opcache/tests/jit/reg_alloc_005.phpt
index 585b703142..f46d0f64e7 100644
--- a/ext/opcache/tests/jit/reg_alloc_005.phpt
+++ b/ext/opcache/tests/jit/reg_alloc_005.phpt
@@ -1,10 +1,9 @@
 --TEST--
 Register Alloction 005: Incorrect double/long register hinting
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 function test() {
diff --git a/ext/opcache/tests/jit/reg_alloc_006.phpt b/ext/opcache/tests/jit/reg_alloc_006.phpt
index 0099a58e69..fa7777a12d 100644
--- a/ext/opcache/tests/jit/reg_alloc_006.phpt
+++ b/ext/opcache/tests/jit/reg_alloc_006.phpt
@@ -1,10 +1,9 @@
 --TEST--
 Register Alloction 006: Incorrect type store elimination
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 function foo() {
diff --git a/ext/opcache/tests/jit/reg_alloc_007.phpt b/ext/opcache/tests/jit/reg_alloc_007.phpt
index f0dbe6434e..4067d983a9 100644
--- a/ext/opcache/tests/jit/reg_alloc_007.phpt
+++ b/ext/opcache/tests/jit/reg_alloc_007.phpt
@@ -1,10 +1,9 @@
 --TEST--
 Register Alloction 007: Missing store
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 function test() {
diff --git a/ext/opcache/tests/jit/reg_alloc_008.phpt b/ext/opcache/tests/jit/reg_alloc_008.phpt
index 45486371e4..de571cf2fe 100644
--- a/ext/opcache/tests/jit/reg_alloc_008.phpt
+++ b/ext/opcache/tests/jit/reg_alloc_008.phpt
@@ -1,10 +1,9 @@
 --TEST--
 Register Alloction 008: Incorrect deoptimization code
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 function foo($a) {
diff --git a/ext/opcache/tests/jit/reg_alloc_009.phpt b/ext/opcache/tests/jit/reg_alloc_009.phpt
index 7626b53e50..ff87709616 100644
--- a/ext/opcache/tests/jit/reg_alloc_009.phpt
+++ b/ext/opcache/tests/jit/reg_alloc_009.phpt
@@ -1,10 +1,9 @@
 --TEST--
 Register Alloction 009: Missing type store
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 function test() {
diff --git a/ext/opcache/tests/jit/reg_alloc_010.phpt b/ext/opcache/tests/jit/reg_alloc_010.phpt
index 8881c98afa..4dd92d43df 100644
--- a/ext/opcache/tests/jit/reg_alloc_010.phpt
+++ b/ext/opcache/tests/jit/reg_alloc_010.phpt
@@ -1,10 +1,9 @@
 --TEST--
 Register Alloction 010: Missed store
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 function foo($y) {
diff --git a/ext/opcache/tests/jit/reg_alloc_011.phpt b/ext/opcache/tests/jit/reg_alloc_011.phpt
index bad26054d2..521a827cc1 100644
--- a/ext/opcache/tests/jit/reg_alloc_011.phpt
+++ b/ext/opcache/tests/jit/reg_alloc_011.phpt
@@ -1,10 +1,9 @@
 --TEST--
 Register Alloction 011: Missed type store
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 function foo($y) {
diff --git a/ext/opcache/tests/jit/reg_alloc_012.phpt b/ext/opcache/tests/jit/reg_alloc_012.phpt
index 450f645359..b684011fbf 100644
--- a/ext/opcache/tests/jit/reg_alloc_012.phpt
+++ b/ext/opcache/tests/jit/reg_alloc_012.phpt
@@ -1,10 +1,9 @@
 --TEST--
 Register Alloction 012: Missed type store
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 function foo($a) {
diff --git a/ext/opcache/tests/jit/reg_alloc_013.phpt b/ext/opcache/tests/jit/reg_alloc_013.phpt
index c18987c335..73bd3abb65 100644
--- a/ext/opcache/tests/jit/reg_alloc_013.phpt
+++ b/ext/opcache/tests/jit/reg_alloc_013.phpt
@@ -1,10 +1,9 @@
 --TEST--
 Register Alloction 013: Division by zero
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 function foo() {
diff --git a/ext/opcache/tests/jit/reg_alloc_014.phpt b/ext/opcache/tests/jit/reg_alloc_014.phpt
index b3810cfb24..a07ad32cc7 100644
--- a/ext/opcache/tests/jit/reg_alloc_014.phpt
+++ b/ext/opcache/tests/jit/reg_alloc_014.phpt
@@ -1,10 +1,9 @@
 --TEST--
 Register Alloction 014: Register clobbering
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 function foo() {
diff --git a/ext/opcache/tests/jit/reg_alloc_015.phpt b/ext/opcache/tests/jit/reg_alloc_015.phpt
index 4b210f0a7d..1068bb06ce 100644
--- a/ext/opcache/tests/jit/reg_alloc_015.phpt
+++ b/ext/opcache/tests/jit/reg_alloc_015.phpt
@@ -1,10 +1,9 @@
 --TEST--
 Register Alloction 015: Missing store
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 function foo() {
diff --git a/ext/opcache/tests/jit/reg_alloc_016.phpt b/ext/opcache/tests/jit/reg_alloc_016.phpt
index 4f517d9bae..f11753c60c 100644
--- a/ext/opcache/tests/jit/reg_alloc_016.phpt
+++ b/ext/opcache/tests/jit/reg_alloc_016.phpt
@@ -1,10 +1,9 @@
 --TEST--
 Register Alloction 016: Missing type store
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 function foo() {
diff --git a/ext/opcache/tests/jit/reg_alloc_017.phpt b/ext/opcache/tests/jit/reg_alloc_017.phpt
index 80cd165512..12106cb746 100644
--- a/ext/opcache/tests/jit/reg_alloc_017.phpt
+++ b/ext/opcache/tests/jit/reg_alloc_017.phpt
@@ -1,10 +1,9 @@
 --TEST--
 Register Alloction 017: Missing store
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 function test() {
diff --git a/ext/opcache/tests/jit/reg_alloc_018.phpt b/ext/opcache/tests/jit/reg_alloc_018.phpt
index d6516cb506..00ac57e028 100644
--- a/ext/opcache/tests/jit/reg_alloc_018.phpt
+++ b/ext/opcache/tests/jit/reg_alloc_018.phpt
@@ -1,17 +1,16 @@
 --TEST--
 Register Alloction 018: Incorrect allocation
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=1M
 --FILE--
 <?php
 6 & $y & 6 & $y;
 ?>
 DONE
 --EXPECTF--
 Warning: Undefined variable $y in %sreg_alloc_018.php on line 2
 
 Warning: Undefined variable $y in %sreg_alloc_018.php on line 2
 DONE
diff --git a/ext/opcache/tests/jit/reg_alloc_019.phpt b/ext/opcache/tests/jit/reg_alloc_019.phpt
index 31beffa68e..4a96e2439f 100644
--- a/ext/opcache/tests/jit/reg_alloc_019.phpt
+++ b/ext/opcache/tests/jit/reg_alloc_019.phpt
@@ -1,10 +1,9 @@
 --TEST--
 Register Alloction 019: Incorrect type assumption after spilling
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=1M
 --FILE--
 <?php
 function test() {
diff --git a/ext/opcache/tests/jit/reg_alloc_020.phpt b/ext/opcache/tests/jit/reg_alloc_020.phpt
index ae6d3583ce..ad74508983 100644
--- a/ext/opcache/tests/jit/reg_alloc_020.phpt
+++ b/ext/opcache/tests/jit/reg_alloc_020.phpt
@@ -1,10 +1,9 @@
 --TEST--
 Register Alloction 020: Incorrect TSSA type inference
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=1M
 --FILE--
 <?php
 function foo() {
diff --git a/ext/opcache/tests/jit/reg_alloc_021.phpt b/ext/opcache/tests/jit/reg_alloc_021.phpt
index 7774a2252d..c8fba98ed1 100644
--- a/ext/opcache/tests/jit/reg_alloc_021.phpt
+++ b/ext/opcache/tests/jit/reg_alloc_021.phpt
@@ -1,19 +1,18 @@
 --TEST--
 Register Alloction 021: TMP variables captured by live_ranges have to be stored
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=1M
 --FILE--
 <?php
 $a = 0;
 for($i = 5; $i >= 0; $i--) {
     $a = 1 + ++$a - 5 % $i;
 }
 ?>
 --EXPECTF--
 Fatal error: Uncaught DivisionByZeroError: Modulo by zero in %sreg_alloc_021.php:4
 Stack trace:
 #0 {main}
   thrown in %sreg_alloc_021.php on line 4
diff --git a/ext/opcache/tests/jit/reg_alloc_022.phpt b/ext/opcache/tests/jit/reg_alloc_022.phpt
index 02e4b56b48..fc9a0b29df 100644
--- a/ext/opcache/tests/jit/reg_alloc_022.phpt
+++ b/ext/opcache/tests/jit/reg_alloc_022.phpt
@@ -1,10 +1,9 @@
 --TEST--
 Register Alloction 022: Incorrect type assumption
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=1M
 --FILE--
 <?php
 function test() {
diff --git a/ext/opcache/tests/jit/reg_alloc_023.phpt b/ext/opcache/tests/jit/reg_alloc_023.phpt
index cdc935a0df..39ddf2ac18 100644
--- a/ext/opcache/tests/jit/reg_alloc_023.phpt
+++ b/ext/opcache/tests/jit/reg_alloc_023.phpt
@@ -1,10 +1,9 @@
 --TEST--
 Register Alloction 023: PI to PHI forwarding
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=1M
 --FILE--
 <?php
 class test {
diff --git a/ext/opcache/tests/jit/ret_001.phpt b/ext/opcache/tests/jit/ret_001.phpt
index 3e4c66c163..f52c0ee57d 100644
--- a/ext/opcache/tests/jit/ret_001.phpt
+++ b/ext/opcache/tests/jit/ret_001.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT RET: 001
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/ret_002.phpt b/ext/opcache/tests/jit/ret_002.phpt
index 1fb615693e..30747e657b 100644
--- a/ext/opcache/tests/jit/ret_002.phpt
+++ b/ext/opcache/tests/jit/ret_002.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT RET: 002
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/ret_003.phpt b/ext/opcache/tests/jit/ret_003.phpt
index 0b9314eedc..afe774c84d 100644
--- a/ext/opcache/tests/jit/ret_003.phpt
+++ b/ext/opcache/tests/jit/ret_003.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT RET: 003
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/ret_004.phpt b/ext/opcache/tests/jit/ret_004.phpt
index ebcc5093e9..f07abe2616 100644
--- a/ext/opcache/tests/jit/ret_004.phpt
+++ b/ext/opcache/tests/jit/ret_004.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT RET: 004 Return a reference when it's not expected
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 class A {
diff --git a/ext/opcache/tests/jit/rope_001.phpt b/ext/opcache/tests/jit/rope_001.phpt
index 4cd5d1e8c4..58afed442b 100644
--- a/ext/opcache/tests/jit/rope_001.phpt
+++ b/ext/opcache/tests/jit/rope_001.phpt
@@ -1,17 +1,16 @@
 --TEST--
 JIT ROPE: 001 *_ROPE may types of temporary variables
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 $a = "";
 $b = 1;
 var_dump(" $a $a" == " $a" . -$b);
 var_dump(" $a $a" == " $a" . -$b);
 ?>
 --EXPECT--
 bool(false)
 bool(false)
diff --git a/ext/opcache/tests/jit/rope_002.phpt b/ext/opcache/tests/jit/rope_002.phpt
index b794563348..e9ac2386e9 100644
--- a/ext/opcache/tests/jit/rope_002.phpt
+++ b/ext/opcache/tests/jit/rope_002.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT ROPE: 002 type guards are only checked for strings
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 function foo() {
diff --git a/ext/opcache/tests/jit/send_ref_001.phpt b/ext/opcache/tests/jit/send_ref_001.phpt
index 52c47db430..602cc05cf3 100644
--- a/ext/opcache/tests/jit/send_ref_001.phpt
+++ b/ext/opcache/tests/jit/send_ref_001.phpt
@@ -1,11 +1,10 @@
 --TEST--
 JIT SEND_REF: 001
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/send_val_001.phpt b/ext/opcache/tests/jit/send_val_001.phpt
index 6f4d5ca086..d89dc9b1be 100644
--- a/ext/opcache/tests/jit/send_val_001.phpt
+++ b/ext/opcache/tests/jit/send_val_001.phpt
@@ -1,11 +1,10 @@
 --TEST--
 JIT SEND_VAL: 001
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/send_val_002.phpt b/ext/opcache/tests/jit/send_val_002.phpt
index facbbcdb05..abdade9500 100644
--- a/ext/opcache/tests/jit/send_val_002.phpt
+++ b/ext/opcache/tests/jit/send_val_002.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT SEND_VAL: 002 named arg 
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 function o(){
diff --git a/ext/opcache/tests/jit/send_var_ex_001.phpt b/ext/opcache/tests/jit/send_var_ex_001.phpt
index e671fbac3a..636bccb051 100644
--- a/ext/opcache/tests/jit/send_var_ex_001.phpt
+++ b/ext/opcache/tests/jit/send_var_ex_001.phpt
@@ -1,13 +1,12 @@
 --TEST--
 JIT SEND_VAR_EX fails on SHOULD_SEND_BY_REF checking
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
 namespace A;
diff --git a/ext/opcache/tests/jit/send_var_ex_002.phpt b/ext/opcache/tests/jit/send_var_ex_002.phpt
index 4f2f8a5675..b664271bf6 100644
--- a/ext/opcache/tests/jit/send_var_ex_002.phpt
+++ b/ext/opcache/tests/jit/send_var_ex_002.phpt
@@ -1,14 +1,13 @@
 --TEST--
 JIT SEND_VAR_EX may leak with named args
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 for ($i = 0; $i < 3; $i++ ) {
 	$x = 0;
 	test(a: $x);
 	var_dump($x);
 }	
diff --git a/ext/opcache/tests/jit/shift_left_001.phpt b/ext/opcache/tests/jit/shift_left_001.phpt
index 155fd296c4..5b0cbf927c 100644
--- a/ext/opcache/tests/jit/shift_left_001.phpt
+++ b/ext/opcache/tests/jit/shift_left_001.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT Shift Left: 001
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/shift_left_002.phpt b/ext/opcache/tests/jit/shift_left_002.phpt
index 74e8818d23..979aaf96b0 100644
--- a/ext/opcache/tests/jit/shift_left_002.phpt
+++ b/ext/opcache/tests/jit/shift_left_002.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT Shift Left: 002
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/shift_right_001.phpt b/ext/opcache/tests/jit/shift_right_001.phpt
index ee8b337be6..454e8a1204 100644
--- a/ext/opcache/tests/jit/shift_right_001.phpt
+++ b/ext/opcache/tests/jit/shift_right_001.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT Shift Right: 001
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/shift_right_002.phpt b/ext/opcache/tests/jit/shift_right_002.phpt
index 5bc81f88e8..c7d6d22777 100644
--- a/ext/opcache/tests/jit/shift_right_002.phpt
+++ b/ext/opcache/tests/jit/shift_right_002.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT Shift Right: 002
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/shift_right_003.phpt b/ext/opcache/tests/jit/shift_right_003.phpt
index fc7964f6ce..8880ef3483 100644
--- a/ext/opcache/tests/jit/shift_right_003.phpt
+++ b/ext/opcache/tests/jit/shift_right_003.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT Shift Right: 003
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/shift_right_004.phpt b/ext/opcache/tests/jit/shift_right_004.phpt
index 95cbce180f..df65b747ca 100644
--- a/ext/opcache/tests/jit/shift_right_004.phpt
+++ b/ext/opcache/tests/jit/shift_right_004.phpt
@@ -1,10 +1,9 @@
 --TEST--
 JIT Shift Right: 004
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/sub_001.phpt b/ext/opcache/tests/jit/sub_001.phpt
index 26eafbd88a..a82a8038ca 100644
--- a/ext/opcache/tests/jit/sub_001.phpt
+++ b/ext/opcache/tests/jit/sub_001.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT SUB: 001
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/switch_001.phpt b/ext/opcache/tests/jit/switch_001.phpt
index 3ec9f8b8b8..57ee3a40b8 100644
--- a/ext/opcache/tests/jit/switch_001.phpt
+++ b/ext/opcache/tests/jit/switch_001.phpt
@@ -1,10 +1,9 @@
 --TEST--
 Switch with undefined input
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=1M
 --FILE--
 <?php
 function foo() {
diff --git a/ext/opcache/tests/jit/switch_jumptable.phpt b/ext/opcache/tests/jit/switch_jumptable.phpt
index 4a132c78e0..023b06a834 100644
--- a/ext/opcache/tests/jit/switch_jumptable.phpt
+++ b/ext/opcache/tests/jit/switch_jumptable.phpt
@@ -1,11 +1,10 @@
 --TEST--
 Switch jumptable generation
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/trampoline_001.phpt b/ext/opcache/tests/jit/trampoline_001.phpt
index 04dacc754b..a0183aac48 100644
--- a/ext/opcache/tests/jit/trampoline_001.phpt
+++ b/ext/opcache/tests/jit/trampoline_001.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT Trampoline 001: trampoline cleanup
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.jit=tracing
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/trampoline_002.phpt b/ext/opcache/tests/jit/trampoline_002.phpt
index d878b0c89d..a3f098cbd2 100644
--- a/ext/opcache/tests/jit/trampoline_002.phpt
+++ b/ext/opcache/tests/jit/trampoline_002.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT Trampoline 002: trampoline cleanup
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.jit=tracing
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/type_check_001.phpt b/ext/opcache/tests/jit/type_check_001.phpt
index d528c64738..028d2e8637 100644
--- a/ext/opcache/tests/jit/type_check_001.phpt
+++ b/ext/opcache/tests/jit/type_check_001.phpt
@@ -1,25 +1,24 @@
 --TEST--
 JIT TYPE_CHECK: 001 exception handling
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
 set_error_handler(function($no, $msg) {
     throw new Exception($msg);
 });
 
 try {
     if (!is_scalar($a)) {
         undefined_function('Null');
     }
 } catch (Exception $e) {
     echo "Exception: " . $e->getMessage() . "\n";
 }
 ?>
 --EXPECT--
 Exception: Undefined variable $a
diff --git a/ext/opcache/tests/jit/ucall_001.phpt b/ext/opcache/tests/jit/ucall_001.phpt
index d8eb769b4a..fc74936326 100644
--- a/ext/opcache/tests/jit/ucall_001.phpt
+++ b/ext/opcache/tests/jit/ucall_001.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT UCALL: 001
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/ucall_002.phpt b/ext/opcache/tests/jit/ucall_002.phpt
index 7d8a422e93..7d6a4ac179 100644
--- a/ext/opcache/tests/jit/ucall_002.phpt
+++ b/ext/opcache/tests/jit/ucall_002.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT UCALL: 002
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/ucall_003.phpt b/ext/opcache/tests/jit/ucall_003.phpt
index c7db4af273..e8c0897e5c 100644
--- a/ext/opcache/tests/jit/ucall_003.phpt
+++ b/ext/opcache/tests/jit/ucall_003.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT UCALL: 003
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/ucall_004.phpt b/ext/opcache/tests/jit/ucall_004.phpt
index 4dd97aac6a..1d012c8430 100644
--- a/ext/opcache/tests/jit/ucall_004.phpt
+++ b/ext/opcache/tests/jit/ucall_004.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT UCALL: 004
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/undef_to_typed_ref.phpt b/ext/opcache/tests/jit/undef_to_typed_ref.phpt
index f4620d1730..c1308e249a 100644
--- a/ext/opcache/tests/jit/undef_to_typed_ref.phpt
+++ b/ext/opcache/tests/jit/undef_to_typed_ref.phpt
@@ -1,10 +1,9 @@
 --TEST--
 Assign undef var to typed reference
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 class Test {
diff --git a/ext/opcache/tests/jit/unreachable_block.phpt b/ext/opcache/tests/jit/unreachable_block.phpt
index deaec7a2e0..74574c1abf 100644
--- a/ext/opcache/tests/jit/unreachable_block.phpt
+++ b/ext/opcache/tests/jit/unreachable_block.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT unreachable_block with block order
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 opcache.protect_memory=1
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/verify_return_undef.phpt b/ext/opcache/tests/jit/verify_return_undef.phpt
index dd24665c6d..fb07ee4250 100644
--- a/ext/opcache/tests/jit/verify_return_undef.phpt
+++ b/ext/opcache/tests/jit/verify_return_undef.phpt
@@ -1,10 +1,9 @@
 --TEST--
 VERIFY_RETURN with undef var
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 --FILE--
 <?php
 
diff --git a/ext/opcache/tests/jit/xor_001.phpt b/ext/opcache/tests/jit/xor_001.phpt
index 23a039ddf2..66cf45c5a5 100644
--- a/ext/opcache/tests/jit/xor_001.phpt
+++ b/ext/opcache/tests/jit/xor_001.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT XOR: 001
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/xor_002.phpt b/ext/opcache/tests/jit/xor_002.phpt
index 0ab19fddd3..52141f5117 100644
--- a/ext/opcache/tests/jit/xor_002.phpt
+++ b/ext/opcache/tests/jit/xor_002.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT XOR: 002
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/tests/jit/xor_003.phpt b/ext/opcache/tests/jit/xor_003.phpt
index bbf33caddf..c515a52d99 100644
--- a/ext/opcache/tests/jit/xor_003.phpt
+++ b/ext/opcache/tests/jit/xor_003.phpt
@@ -1,12 +1,11 @@
 --TEST--
 JIT XOR: 003
 --INI--
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_update_protection=0
-opcache.jit_buffer_size=64M
 ;opcache.jit_debug=257
 --EXTENSIONS--
 opcache
 --FILE--
 <?php
diff --git a/ext/opcache/zend_accelerator_module.c b/ext/opcache/zend_accelerator_module.c
index 5c69c9f788..f5dbeadf51 100644
--- a/ext/opcache/zend_accelerator_module.c
+++ b/ext/opcache/zend_accelerator_module.c
@@ -263,77 +263,77 @@ static ZEND_INI_MH(OnUpdateMaxTraceLength)
 ZEND_INI_BEGIN()
 	STD_PHP_INI_BOOLEAN("opcache.enable"             , "1", PHP_INI_ALL,    OnEnable,     enabled                             , zend_accel_globals, accel_globals)
 	STD_PHP_INI_BOOLEAN("opcache.use_cwd"            , "1", PHP_INI_SYSTEM, OnUpdateBool, accel_directives.use_cwd            , zend_accel_globals, accel_globals)
 	STD_PHP_INI_BOOLEAN("opcache.validate_timestamps", "1", PHP_INI_ALL   , OnUpdateBool, accel_directives.validate_timestamps, zend_accel_globals, accel_globals)
 	STD_PHP_INI_BOOLEAN("opcache.validate_permission", "0", PHP_INI_SYSTEM, OnUpdateBool, accel_directives.validate_permission, zend_accel_globals, accel_globals)
 #ifndef ZEND_WIN32
 	STD_PHP_INI_BOOLEAN("opcache.validate_root"      , "0", PHP_INI_SYSTEM, OnUpdateBool, accel_directives.validate_root      , zend_accel_globals, accel_globals)
 #endif
 	STD_PHP_INI_BOOLEAN("opcache.dups_fix"           , "0", PHP_INI_ALL   , OnUpdateBool, accel_directives.ignore_dups        , zend_accel_globals, accel_globals)
 	STD_PHP_INI_BOOLEAN("opcache.revalidate_path"    , "0", PHP_INI_ALL   , OnUpdateBool, accel_directives.revalidate_path    , zend_accel_globals, accel_globals)
 
 	STD_PHP_INI_ENTRY("opcache.log_verbosity_level"   , "1"   , PHP_INI_SYSTEM, OnUpdateLong, accel_directives.log_verbosity_level,       zend_accel_globals, accel_globals)
 	STD_PHP_INI_ENTRY("opcache.memory_consumption"    , "128"  , PHP_INI_SYSTEM, OnUpdateMemoryConsumption,    accel_directives.memory_consumption,        zend_accel_globals, accel_globals)
 	STD_PHP_INI_ENTRY("opcache.interned_strings_buffer", "8"  , PHP_INI_SYSTEM, OnUpdateInternedStringsBuffer,	 accel_directives.interned_strings_buffer,   zend_accel_globals, accel_globals)
 	STD_PHP_INI_ENTRY("opcache.max_accelerated_files" , "10000", PHP_INI_SYSTEM, OnUpdateMaxAcceleratedFiles,	 accel_directives.max_accelerated_files,     zend_accel_globals, accel_globals)
 	STD_PHP_INI_ENTRY("opcache.max_wasted_percentage" , "5"   , PHP_INI_SYSTEM, OnUpdateMaxWastedPercentage,	 accel_directives.max_wasted_percentage,     zend_accel_globals, accel_globals)
 	STD_PHP_INI_ENTRY("opcache.force_restart_timeout" , "180" , PHP_INI_SYSTEM, OnUpdateLong,	             accel_directives.force_restart_timeout,     zend_accel_globals, accel_globals)
 	STD_PHP_INI_ENTRY("opcache.revalidate_freq"       , "2"   , PHP_INI_ALL   , OnUpdateLong,	             accel_directives.revalidate_freq,           zend_accel_globals, accel_globals)
 	STD_PHP_INI_ENTRY("opcache.file_update_protection", "2"   , PHP_INI_ALL   , OnUpdateLong,                accel_directives.file_update_protection,    zend_accel_globals, accel_globals)
 	STD_PHP_INI_ENTRY("opcache.preferred_memory_model", ""    , PHP_INI_SYSTEM, OnUpdateStringUnempty,       accel_directives.memory_model,              zend_accel_globals, accel_globals)
 	STD_PHP_INI_ENTRY("opcache.blacklist_filename"    , ""    , PHP_INI_SYSTEM, OnUpdateString,	             accel_directives.user_blacklist_filename,   zend_accel_globals, accel_globals)
 	STD_PHP_INI_ENTRY("opcache.max_file_size"         , "0"   , PHP_INI_SYSTEM, OnUpdateLong,	             accel_directives.max_file_size,             zend_accel_globals, accel_globals)
 
 	STD_PHP_INI_BOOLEAN("opcache.protect_memory"        , "0"  , PHP_INI_SYSTEM, OnUpdateBool,                  accel_directives.protect_memory,            zend_accel_globals, accel_globals)
 	STD_PHP_INI_BOOLEAN("opcache.save_comments"         , "1"  , PHP_INI_SYSTEM, OnUpdateBool,                  accel_directives.save_comments,             zend_accel_globals, accel_globals)
 	STD_PHP_INI_BOOLEAN("opcache.record_warnings"       , "0"  , PHP_INI_SYSTEM, OnUpdateBool,                  accel_directives.record_warnings,           zend_accel_globals, accel_globals)
 
 	STD_PHP_INI_ENTRY("opcache.optimization_level"    , DEFAULT_OPTIMIZATION_LEVEL , PHP_INI_SYSTEM, OnUpdateLong, accel_directives.optimization_level,   zend_accel_globals, accel_globals)
 	STD_PHP_INI_ENTRY("opcache.opt_debug_level"       , "0"      , PHP_INI_SYSTEM, OnUpdateLong,             accel_directives.opt_debug_level,            zend_accel_globals, accel_globals)
 	STD_PHP_INI_BOOLEAN("opcache.enable_file_override"	, "0"   , PHP_INI_SYSTEM, OnUpdateBool,              accel_directives.file_override_enabled,     zend_accel_globals, accel_globals)
 	STD_PHP_INI_BOOLEAN("opcache.enable_cli"             , "0"   , PHP_INI_SYSTEM, OnUpdateBool,              accel_directives.enable_cli,                zend_accel_globals, accel_globals)
 	STD_PHP_INI_ENTRY("opcache.error_log"                , ""    , PHP_INI_SYSTEM, OnUpdateString,	         accel_directives.error_log,                 zend_accel_globals, accel_globals)
 	STD_PHP_INI_ENTRY("opcache.restrict_api"             , ""    , PHP_INI_SYSTEM, OnUpdateString,	         accel_directives.restrict_api,              zend_accel_globals, accel_globals)
 
 #ifndef ZEND_WIN32
 	STD_PHP_INI_ENTRY("opcache.lockfile_path"             , "/tmp"    , PHP_INI_SYSTEM, OnUpdateString,           accel_directives.lockfile_path,              zend_accel_globals, accel_globals)
 #else
 	STD_PHP_INI_ENTRY("opcache.mmap_base", NULL, PHP_INI_SYSTEM,	OnUpdateString,	                             accel_directives.mmap_base,                 zend_accel_globals, accel_globals)
 #endif
 
 	STD_PHP_INI_ENTRY("opcache.file_cache"                    , NULL  , PHP_INI_SYSTEM, OnUpdateFileCache, accel_directives.file_cache,                    zend_accel_globals, accel_globals)
 	STD_PHP_INI_BOOLEAN("opcache.file_cache_only"               , "0"   , PHP_INI_SYSTEM, OnUpdateBool,	   accel_directives.file_cache_only,               zend_accel_globals, accel_globals)
 	STD_PHP_INI_BOOLEAN("opcache.file_cache_consistency_checks" , "1"   , PHP_INI_SYSTEM, OnUpdateBool,	   accel_directives.file_cache_consistency_checks, zend_accel_globals, accel_globals)
 #if ENABLE_FILE_CACHE_FALLBACK
 	STD_PHP_INI_BOOLEAN("opcache.file_cache_fallback"           , "1"   , PHP_INI_SYSTEM, OnUpdateBool,	   accel_directives.file_cache_fallback,           zend_accel_globals, accel_globals)
 #endif
 #ifdef HAVE_HUGE_CODE_PAGES
 	STD_PHP_INI_BOOLEAN("opcache.huge_code_pages"             , "0"   , PHP_INI_SYSTEM, OnUpdateBool,      accel_directives.huge_code_pages,               zend_accel_globals, accel_globals)
 #endif
 	STD_PHP_INI_ENTRY("opcache.preload"                       , ""    , PHP_INI_SYSTEM, OnUpdateStringUnempty,    accel_directives.preload,                zend_accel_globals, accel_globals)
 #ifndef ZEND_WIN32
 	STD_PHP_INI_ENTRY("opcache.preload_user"                  , ""    , PHP_INI_SYSTEM, OnUpdateStringUnempty,    accel_directives.preload_user,           zend_accel_globals, accel_globals)
 #endif
 #if ZEND_WIN32
 	STD_PHP_INI_ENTRY("opcache.cache_id"                      , ""    , PHP_INI_SYSTEM, OnUpdateString,           accel_directives.cache_id,               zend_accel_globals, accel_globals)
 #endif
 #ifdef HAVE_JIT
-	STD_PHP_INI_ENTRY("opcache.jit"                           , "tracing",                    PHP_INI_ALL,    OnUpdateJit,      options,               zend_jit_globals, jit_globals)
+	STD_PHP_INI_ENTRY("opcache.jit"                           , "disable",                    PHP_INI_ALL,    OnUpdateJit,      options,               zend_jit_globals, jit_globals)
 	STD_PHP_INI_ENTRY("opcache.jit_buffer_size"               , ZEND_JIT_DEFAULT_BUFFER_SIZE, PHP_INI_SYSTEM, OnUpdateLong,     buffer_size,           zend_jit_globals, jit_globals)
 	STD_PHP_INI_ENTRY("opcache.jit_debug"                     , "0",                          PHP_INI_ALL,    OnUpdateJitDebug, debug,                 zend_jit_globals, jit_globals)
 	STD_PHP_INI_ENTRY("opcache.jit_bisect_limit"              , "0",                          PHP_INI_ALL,    OnUpdateLong,     bisect_limit,          zend_jit_globals, jit_globals)
 	STD_PHP_INI_ENTRY("opcache.jit_prof_threshold"            , "0.005",                      PHP_INI_ALL,    OnUpdateReal,     prof_threshold,        zend_jit_globals, jit_globals)
 	STD_PHP_INI_ENTRY("opcache.jit_max_root_traces"           , "1024",                       PHP_INI_SYSTEM, OnUpdateLong,     max_root_traces,       zend_jit_globals, jit_globals)
 	STD_PHP_INI_ENTRY("opcache.jit_max_side_traces"           , "128",                        PHP_INI_SYSTEM, OnUpdateLong,     max_side_traces,       zend_jit_globals, jit_globals)
 	STD_PHP_INI_ENTRY("opcache.jit_max_exit_counters"         , "8192",                       PHP_INI_SYSTEM, OnUpdateLong,     max_exit_counters,     zend_jit_globals, jit_globals)
 	STD_PHP_INI_ENTRY("opcache.jit_hot_loop"                  , "64",                         PHP_INI_SYSTEM, OnUpdateCounter,  hot_loop,              zend_jit_globals, jit_globals)
 	STD_PHP_INI_ENTRY("opcache.jit_hot_func"                  , "127",                        PHP_INI_SYSTEM, OnUpdateCounter,  hot_func,              zend_jit_globals, jit_globals)
 	STD_PHP_INI_ENTRY("opcache.jit_hot_return"                , "8",                          PHP_INI_SYSTEM, OnUpdateCounter,  hot_return,            zend_jit_globals, jit_globals)
 	STD_PHP_INI_ENTRY("opcache.jit_hot_side_exit"             , "8",                          PHP_INI_ALL,    OnUpdateCounter,  hot_side_exit,         zend_jit_globals, jit_globals)
 	STD_PHP_INI_ENTRY("opcache.jit_blacklist_root_trace"      , "16",                         PHP_INI_ALL,    OnUpdateCounter,  blacklist_root_trace,  zend_jit_globals, jit_globals)
 	STD_PHP_INI_ENTRY("opcache.jit_blacklist_side_trace"      , "8",                          PHP_INI_ALL,    OnUpdateCounter,  blacklist_side_trace,  zend_jit_globals, jit_globals)
 	STD_PHP_INI_ENTRY("opcache.jit_max_loop_unrolls"          , "8",                          PHP_INI_ALL,    OnUpdateUnrollL,  max_loop_unrolls,      zend_jit_globals, jit_globals)
 	STD_PHP_INI_ENTRY("opcache.jit_max_recursive_calls"       , "2",                          PHP_INI_ALL,    OnUpdateUnrollC,  max_recursive_calls,   zend_jit_globals, jit_globals)
 	STD_PHP_INI_ENTRY("opcache.jit_max_recursive_returns"     , "2",                          PHP_INI_ALL,    OnUpdateUnrollR,  max_recursive_returns, zend_jit_globals, jit_globals)
 	STD_PHP_INI_ENTRY("opcache.jit_max_polymorphic_calls"     , "2",                          PHP_INI_ALL,    OnUpdateLong,     max_polymorphic_calls, zend_jit_globals, jit_globals)
     STD_PHP_INI_ENTRY("opcache.jit_max_trace_length"          , "1024",                       PHP_INI_ALL,    OnUpdateMaxTraceLength, max_trace_length, zend_jit_globals, jit_globals)
 #endif
diff --git a/ext/phar/tests/024-opcache-win32.phpt b/ext/phar/tests/024-opcache-win32.phpt
index e7a7dc6d6b..a136a7c2a9 100644
--- a/ext/phar/tests/024-opcache-win32.phpt
+++ b/ext/phar/tests/024-opcache-win32.phpt
@@ -1,60 +1,60 @@
 --TEST--
 Phar: phar:// include with Opcache
 --EXTENSIONS--
 phar
 opcache
 --SKIPIF--
 <?php
 if (strpos(PHP_OS, 'WIN') === false) die("skip Extra warning on Windows.");
 $cache_dir = dirname(__FILE__) . "/024-file_cache";
 if (!is_dir($cache_dir) && !mkdir($cache_dir)) die("skip unable to create file_cache dir");
 ?>
 --INI--
 phar.require_hash=0
 opcache.enable=1
 opcache.enable_cli=1
 opcache.file_cache={PWD}/024-file_cache
 opcache.memory_consumption=64
 opcache.interned_strings_buffer=8
 opcache.max_accelerated_files=4000
-opcache.jit_buffer_size=64M
+opcache.jit=tracing
 opcache.revalidate_freq=60
 opcache.fast_shutdown=1
 --FILE--
 <?php
 
 $fname = dirname(__FILE__) . '/' . basename(__FILE__, '.php') . '.phar.php';
 $pname = 'phar://' . $fname;
 $file = "<?php __HALT_COMPILER(); ?>";
 
 $files = array();
 $files['a.php'] = '<?php echo "This is a\n"; ?>';
 $files['b.php'] = '<?php echo "This is b\n"; ?>';
 $files['b/c.php'] = '<?php echo "This is b/c\n"; ?>';
 
 include 'files/phar_test.inc';
 
 include $pname . '/a.php';
 include $pname . '/b.php';
 include $pname . '/b/c.php';
 
 $cache_dir = ini_get("opcache.file_cache");
 if (is_dir($cache_dir)) {
     $it = new RecursiveIteratorIterator(
         new RecursiveDirectoryIterator($cache_dir, RecursiveDirectoryIterator::SKIP_DOTS), RecursiveIteratorIterator::CHILD_FIRST
     );
     foreach ($it as $fi) {
         $fn = ($fi->isDir() ? 'rmdir' : 'unlink');
         $fn($fi->getRealPath());
     }
 
     rmdir($cache_dir);
 }
 
 ?>
 --CLEAN--
 <?php unlink(dirname(__FILE__) . '/' . basename(__FILE__, '.clean.php') . '.phar.php'); ?>
 --EXPECT--
 This is a
 This is b
 This is b/c
